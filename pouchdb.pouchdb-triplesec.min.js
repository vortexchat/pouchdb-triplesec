!function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var a=n[s]={exports:{}};e[s][0].call(a.exports,function(t){var n=e[s][1][t];return i(n||t)},a,a.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function o(t){var e,n,i,o,s,u=t.length;o=r(t),s=new l(3*u/4-o),n=o>0?u-4:u;var c=0;for(e=0;e<n;e+=4)i=a[t.charCodeAt(e)]<<18|a[t.charCodeAt(e+1)]<<12|a[t.charCodeAt(e+2)]<<6|a[t.charCodeAt(e+3)],s[c++]=i>>16&255,s[c++]=i>>8&255,s[c++]=255&i;return 2===o?(i=a[t.charCodeAt(e)]<<2|a[t.charCodeAt(e+1)]>>4,s[c++]=255&i):1===o&&(i=a[t.charCodeAt(e)]<<10|a[t.charCodeAt(e+1)]<<4|a[t.charCodeAt(e+2)]>>2,s[c++]=i>>8&255,s[c++]=255&i),s}function s(t){return f[t>>18&63]+f[t>>12&63]+f[t>>6&63]+f[63&t]}function u(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(s(r));return i.join("")}function c(t){for(var e,n=t.length,r=n%3,i="",o=[],s=0,c=n-r;s<c;s+=16383)o.push(u(t,s,s+16383>c?c:s+16383));return 1===r?(e=t[n-1],i+=f[e>>2],i+=f[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=f[e>>10],i+=f[e>>4&63],i+=f[e<<2&63],i+="="),o.push(i),o.join("")}n.byteLength=i,n.toByteArray=o,n.fromByteArray=c;for(var f=[],a=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,_=h.length;p<_;++p)f[p]=h[p],a[h.charCodeAt(p)]=p;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],2:[function(t,e,n){(function(e){"use strict";function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return s(this,t,e,n)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,n,r):"string"==typeof e?a(t,e,n):p(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,r){return u(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function f(t,e){if(u(e),t=i(t,e<0?0:0|_(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function a(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n);t=i(t,r);var s=t.write(e,n);return s!==r&&(t=t.slice(0,s)),t}function l(t,e){var n=e.length<0?0:0|_(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=l(t,e),t}function p(t,e){if(o.isBuffer(e)){var n=0|_(e.length);return t=i(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||V(e.length)?i(t,0):l(t,e);if("Buffer"===e.type&&Q(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function _(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function y(t){return+t!=t&&(t=0),o.alloc(+t)}function d(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(r)return X(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return U(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return z(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,u=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,u/=2,c/=2,n/=2}var f;if(i){var a=-1;for(f=n;f<u;f++)if(o(t,f)===o(e,-1===a?0:f-a)){if(-1===a&&(a=f),f-a+1===c)return a*s}else-1!==a&&(f-=f-a),a=-1}else for(n+c>u&&(n=u-c),f=n;f>=0;f--){for(var l=!0,h=0;h<c;h++)if(o(t,f+h)!==o(e,h)){l=!1;break}if(l)return f}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var u=parseInt(e.substr(2*s,2),16);if(isNaN(u))return s;t[n+s]=u}return s}function k(t,e,n,r){return G(X(e,t.length-n),t,n,r)}function S(t,e,n,r){return G(W(e),t,n,r)}function B(t,e,n,r){return S(t,e,n,r)}function P(t,e,n,r){return G(q(e),t,n,r)}function D(t,e,n,r){return G(Y(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],s=null,u=o>239?4:o>223?3:o>191?2:1;if(i+u<=n){var c,f,a,l;switch(u){case 1:o<128&&(s=o);break;case 2:c=t[i+1],128==(192&c)&&(l=(31&o)<<6|63&c)>127&&(s=l);break;case 3:c=t[i+1],f=t[i+2],128==(192&c)&&128==(192&f)&&(l=(15&o)<<12|(63&c)<<6|63&f)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:c=t[i+1],f=t[i+2],a=t[i+3],128==(192&c)&&128==(192&f)&&128==(192&a)&&(l=(15&o)<<18|(63&c)<<12|(63&f)<<6|63&a)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,u=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=u}return x(r)}function x(t){var e=t.length;if(e<=Z)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return n}function z(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function U(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=H(t[o]);return i}function R(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,n,r,i,s){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function C(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function F(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,i){return i||F(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(t,e,n,r,23,4),n+4}function K(t,e,n,r,i){return i||F(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(t,e,n,r,52,8),n+8}function j(t){if(t=L(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function L(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function X(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Y(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function q(t){return J.toByteArray(j(t))}function G(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function V(t){return t!==t}var J=t("base64-js"),$=t("ieee754"),Q=t("isarray");n.Buffer=o,n.SlowBuffer=y,n.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),n.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return s(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return c(null,t,e,n)},o.allocUnsafe=function(t){return f(null,t)},o.allocUnsafeSlow=function(t){return f(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},o.byteLength=d,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)w(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):g.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var s=i-r,u=n-e,c=Math.min(s,u),f=this.slice(r,i),a=t.slice(e,n),l=0;l<c;++l)if(f[l]!==a[l]){s=f[l],u=a[l];break}return s<u?-1:u<s?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return k(this,t,e,n);case"ascii":return S(this,t,e,n);case"latin1":case"binary":return B(this,t,e,n);case"base64":return P(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+t]}return r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),$.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),$.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),$.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),$.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){O(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){O(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):C(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):C(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var o=0,s=1,u=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===u&&0!==this[e+o-1]&&(u=1),this[e+o]=(t/s>>0)-u&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var o=n-1,s=1,u=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===u&&0!==this[e+o+1]&&(u=1),this[e+o]=(t/s>>0)-u&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):C(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):C(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return K(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return K(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,s=r-n;if(this===t&&n<e&&e<r)for(i=s-1;i>=0;--i)t[i+e]=this[i+n];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},o.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var s;if("number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var u=o.isBuffer(t)?t:X(new o(t,r).toString()),c=u.length;for(s=0;s<n-e;++s)this[s+e]=u[s%c]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:9,isarray:10}],3:[function(t,e,n){(function(){var e,r,i,o,s,u,c,f,a=[].slice;f=t("util"),r=t("iced-runtime").const,n.BaseError=e=function(t,e){return"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.message=t||"Error"},f.inherits(e,Error),e.prototype.name="BaseError",c=function(t){return t[0].toUpperCase()+t.slice(1).toLowerCase()},i=function(t){var e;return function(){var n,r,i,o;for(i=t.split(/_/),o=[],n=0,r=i.length;n<r;n++)e=i[n],o.push(c(e));return o}().join("")},u=function(t,n,r){var i;return i=function(t){return e.call(this,t||r,this.constructor),this.istack=[],this.code=n,this},f.inherits(i,e),i.prototype.name=t,i.prototype.inspect=function(){return"["+t+": "+this.message+" (code "+this.code+")]"},i},o=function(t,e){return e[r.trace]=t[r.trace],e},n.make_errors=function(t){var e,n,r,o,s,c;s={msg:{},name:{},code:{}},t.OK="Success",n=100;for(r in t)o=t[r],"OK"!==r?(e=i(r)+"Error",c=n++,s[e]=u(e,c,o)):c=0,s[r]=c,s.msg[r]=s.msg[c]=o,s.name[r]=s.name[c]=r,s.code[r]=c;return s},s=function(t,e){if(null!=e)return null==t.istack&&(t.istack=[]),t.istack.push(e)},n.make_esc=function(t,e){return function(n){return o(n,function(){var r,i,o,u,c;return i=arguments[0],r=2<=arguments.length?a.call(arguments,1):[],null==i?n.apply(null,r):t.__esc?void 0:(t.__esc=!0,s(i,null!=(o=null!=e?e:null!=arguments&&null!=(u=arguments.caller)&&null!=(c=u.callee)?c.name:void 0)?o:"unnamed error"),t(i))})}},n.EscOk=function(){function t(t,e){this.gcb=t,this.where=e}return t.prototype.bailout=function(){var t;if(this.gcb)return t=this.gcb,this.gcb=null,t(!1)},t.prototype.check_ok=function(t){return o(t,function(e){return function(){var n,r;return r=arguments[0],n=2<=arguments.length?a.call(arguments,1):[],r?t.apply(null,n):e.bailout()}}(this))},t.prototype.check_err=function(t){return o(t,function(e){return function(){var n,r;return r=arguments[0],n=2<=arguments.length?a.call(arguments,1):[],null!=r?(s(r,e.where),e.bailout()):t.apply(null,n)}}(this))},t.prototype.check_non_null=function(t){return o(t,function(e){return function(){var n;return n=1<=arguments.length?a.call(arguments,0):[],null==n[0]?e.bailout():t.apply(null,n)}}(this))},t}(),n.EscErr=function(){function t(t,e){this.gcb=t,this.where=e}return t.prototype.finish=function(t){var e;if(this.gcb)return e=this.gcb,this.gcb=null,e(t)},t.prototype.check_ok=function(t,e,n){return null==e&&(e=Error),null==n&&(n=null),o(t,function(){var r,i,o;return o=arguments[0],r=2<=arguments.length?a.call(arguments,1):[],o?t.apply(null,r):(i=new e(n),s(i,this.where),this.finish(i))})},t.prototype.check_err=function(t){return o(t,function(){var e,n;return n=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],null!=n?(s(n,this.where),this.finish(n)):t.apply(null,e)})},t}(),n.Canceler=function(){function t(t){this.klass=null!=t?t:Error,this._canceled=!1}return t.prototype.is_canceled=function(){return this._canceled},t.prototype.is_ok=function(){return!this._canceled},t.prototype.cancel=function(){return this._canceled=!0},t.prototype.err=function(){return this._canceled?new this.klass("Aborted"):null},t}(),n.chain=function(t,e){return function(){var n;return n=1<=arguments.length?a.call(arguments,0):[],e(function(){return t.apply(null,n)})}},n.chain_err=function(t,e){return function(){var n;return n=1<=arguments.length?a.call(arguments,0):[],e(function(){var e;return e=1<=arguments.length?a.call(arguments,0):[],t.apply(null,null!=e[0]&&null==n[0]?e:n)})}}}).call(this)},{"iced-runtime":7,util:49}],4:[function(t,e,n){(function(){var e,r,i,o,s={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=t("iced-runtime"),n.Lock=e=function(){function t(){this._open=!0,this._waiters=[]}return t.prototype.acquire=function(t){return this._open?(this._open=!1,t()):this._waiters.push(t)},t.prototype.release=function(){return this._waiters.length?this._waiters.shift()():this._open=!0},t.prototype.open=function(){return this._open},t}(),r=function(t){function e(t,n){this.tab=t,this.name=n,e.__super__.constructor.call(this),this.refs=0}return u(e,t),e.prototype.incref=function(){return++this.refs},e.prototype.decref=function(){return--this.refs},e.prototype.release=function(){if(e.__super__.release.call(this),0===this.decref())return delete this.tab.locks[this.name]},e}(e),n.Table=function(){function t(){this.locks={}}return t.prototype.create=function(t){var e;return e=new r(this,t),this.locks[t]=e},t.prototype.acquire=function(t,e,n){var r,i,s,u;s=o.findDeferral(arguments),r=this.locks[t]||this.create(t),i=r._open,r.incref(),function(t){return function(t){if(!n&&!r._open)return t(r=null);!function(t){u=new o.Deferrals(t,{parent:s,filename:"/Users/max/src/iced/iced-lock/index.iced",funcname:"Table.acquire"}),r.acquire(u.defer({lineno:69})),u._fulfill()}(t)}}()(function(t){return function(){return e(r,i)}}())},t.prototype.lookup=function(t){return this.locks[t]},t}(),i=function(){function t(t){this.table=t.table,this.key=t.key,this.seqid=null,this.waiter=null,this.open=!0,this.refs=0}return t.prototype._incref=function(){return++this.refs},t.prototype._decref=function(){if(0==--this.refs)return this.table._remove({key:this.key})},t.prototype._enter=function(t,e){var n,r;return n=t.seqid,this.open?(this.open=!1,this.seqid=n,e(null,this)):null!=this.waiter?(n>this.waiter.seqid?(r=this.waiter,this.waiter={cb:e,seqid:n},r.cb(new Error("our seqid="+r.seqid+" was preempted by "+n))):e(new Error("our seqid="+n+" is too stale (since "+this.waiter.seqid+" is ahead of us)")),this._decref()):n>this.seqid?this.waiter={seqid:n,cb:e}:(e(new Error("our seqid="+n+" is too stale (since "+this.seqid+" is already in flight)")),this._decref())},t.prototype.release=function(){var t,e;return null!=this.waiter?(e=this.waiter,this.seqid=e.seqid,t=e.cb,this.waiter=null,t(null,this)):(this.open=!0,this.seqid=null),this._decref()},t}(),n.SingleFlightTable=function(){function t(){this._jobs={}}return t.prototype._create=function(t){var e;return e=t.key,this._jobs[e]=new i({table:this,key:e})},t.prototype._remove=function(t){var e;return e=t.key,delete this._jobs[e]},t.prototype.enter=function(t,e){var n,r,i;return i=t.seqid,n=t.key,r=this._jobs[n]||this._create({key:n}),r._incref(),r._enter({seqid:i},e)},t}()}).call(this)},{"iced-runtime":7}],5:[function(t,e,n){(function(){e.exports={k:"__iced_k",k_noop:"__iced_k_noop",param:"__iced_p_",ns:"iced",runtime:"runtime",Deferrals:"Deferrals",deferrals:"__iced_deferrals",fulfill:"_fulfill",b_while:"_break",t_while:"_while",c_while:"_continue",n_while:"_next",n_arg:"__iced_next_arg",defer_method:"defer",slot:"__slot",assign_fn:"assign_fn",autocb:"autocb",retslot:"ret",trace:"__iced_trace",passed_deferral:"__iced_passed_deferral",findDeferral:"findDeferral",lineno:"lineno",parent:"parent",filename:"filename",funcname:"funcname",catchExceptions:"catchExceptions",runtime_modes:["node","inline","window","none","browserify","interp"],trampoline:"trampoline",context:"context",defer_arg:"__iced_defer_"}}).call(this)},{}],6:[function(t,e,n){(function(){var e,r,i,o,s,u=[].slice;e=t("./const"),n.iced=r=t("./runtime"),s=function(t,e,n,i){var o,s,c,f,a;f=r.findDeferral(arguments),s=new r.Rendezvous,i[0]=s.id(!0).defer({assign_fn:function(t){return function(){return function(){return o=u.call(arguments,0)}}}()(),lineno:20,context:a}),setTimeout(s.id(!1).defer({lineno:21,context:a}),e),function(t){return function(t){a=new r.Deferrals(t,{parent:f,filename:"/Users/max/src/iced/iced-runtime/src/library.iced"}),s.wait(a.defer({assign_fn:function(){return function(){return c=arguments[0]}}(),lineno:22})),a._fulfill()}}()(function(e){return function(){return n&&(n[0]=c),t.apply(null,o)}}())},n.timeout=function(t,e,n){var r;return r=[],s(t,e,n,r),r[0]},i=function(t,e,n){var i,o,s;o=r.findDeferral(arguments),function(t){return function(t){s=new r.Deferrals(t,{parent:o,filename:"/Users/max/src/iced/iced-runtime/src/library.iced"}),n[0]=s.defer({assign_fn:function(){return function(){return i=arguments[0]}}(),lineno:39}),s._fulfill()}}()(function(n){return function(){return i||(e[0]=!1),t()}}())},n.iand=function(t,e){var n;return n=[],i(t,e,n),n[0]},o=function(t,e,n){var i,o,s;o=r.findDeferral(arguments),function(t){return function(t){s=new r.Deferrals(t,{parent:o,filename:"/Users/max/src/iced/iced-runtime/src/library.iced"}),n[0]=s.defer({assign_fn:function(){return function(){return i=arguments[0]}}(),lineno:58}),s._fulfill()}}()(function(n){return function(){return i&&(e[0]=!0),t()}}())},n.ior=function(t,e){var n;return n=[],o(t,e,n),n[0]},n.Pipeliner=function(){function t(t,n){this.window=t||1,this.delay=n||0,this.queue=[],this.n_out=0,this.cb=null,this[e.deferrals]=this,this.defer=this._defer}return t.prototype.waitInQueue=function(t){var e,n;e=r.findDeferral(arguments),function(t){return function(i){var o;(o=function(i){var s,u,c;if(s=i,u=function(){return r.trampoline(function(){return o(i)})},c=u,!(t.n_out>=t.window))return s();!function(i){n=new r.Deferrals(i,{parent:e,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.waitInQueue"}),t.cb=n.defer({lineno:100}),n._fulfill()}(c)})(i)}}(this)(function(i){return function(){i.n_out++,function(t){if(!i.delay)return t();!function(t){n=new r.Deferrals(t,{parent:e,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.waitInQueue"}),setTimeout(n.defer({lineno:108}),i.delay),n._fulfill()}(t)}(function(){return t()})}}(this))},t.prototype.__defer=function(t,e){var n,i,o,s;o=r.findDeferral(arguments),function(n){return function(n){s=new r.Deferrals(n,{parent:o,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.__defer"}),i=s.defer({lineno:122}),t[0]=function(){var t,n;return t=1<=arguments.length?u.call(arguments,0):[],null!=(n=e.assign_fn)&&n.apply(null,t),i()},s._fulfill()}}()(function(t){return function(){if(t.n_out--,t.cb)return n=t.cb,t.cb=null,n()}}(this))},t.prototype._defer=function(t){var e;return e=[],this.__defer(e,t),e[0]},t.prototype.flush=function(t){var e,n,i;n=t,
e=r.findDeferral(arguments),(i=function(t){var n;return function(o){var s,u,c;if(s=o,u=function(){return r.trampoline(function(){return i(o)})},c=u,!t.n_out)return s();!function(i){n=new r.Deferrals(i,{parent:e,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.flush"}),t.cb=n.defer({lineno:151}),n._fulfill()}(c)}}(this))(n)},t}()}).call(this)},{"./const":5,"./runtime":8}],7:[function(t,e,n){(function(){var e,r,i,o,s,u;for(n.const=t("./const"),i=[t("./runtime"),t("./library")],s=0,u=i.length;s<u;s++){r=i[s];for(e in r)o=r[e],n[e]=o}}).call(this)},{"./const":5,"./library":6,"./runtime":8}],8:[function(t,e,n){(function(e){(function(){var r,i,o,s,u,c,f,a,l,h,p=[].slice;r=t("./const"),o=function(t,e,n,i,o){var s,u,c,a;c={};for(s in i)a=i[s],c[s]=a;return c[r.lineno]=null!=e?e[r.lineno]:void 0,u=function(){var r,i,s;return r=1<=arguments.length?p.call(arguments,0):[],null!=e&&null!=(s=e.assign_fn)&&s.apply(null,r),t?(i=t,o||(t=null),i._fulfill(n,c)):f("overused deferral at "+h(c))},u[r.trace]=c,u},l=0,u=function(t){return++l%t==0&&(l=0,!0)},a=null,h=function(t){return(t[r.funcname]||"<anonymous>")+" ("+t[r.filename]+":"+(t[r.lineno]+1)+")"},f=function(t){return"undefined"!=typeof console&&null!==console?console.error("ICED warning: "+t):void 0},n.trampoline=c=function(t){return u(500)?null!=(void 0!==e&&null!==e?e.nextTick:void 0)?e.nextTick(t):setTimeout(t):t()},n.Deferrals=function(){function t(t,e){this.trace=e,this.continuation=t,this.count=1,this.ret=null}return t.prototype._call=function(t){var e;return this.continuation?(a=t,e=this.continuation,this.continuation=null,e(this.ret)):f("Entered dead await at "+h(t))},t.prototype._fulfill=function(t,e){if(!(--this.count>0))return c(function(t){return function(){return t._call(e)}}(this))},t.prototype.defer=function(t){var e;return this.count++,e=this,o(e,t,null,this.trace)},t}(),n.findDeferral=function(t){var e,n,i;for(n=0,i=t.length;n<i;n++)if(e=t[n],null!=e?e[r.trace]:void 0)return e;return null},n.Rendezvous=function(){function t(){this.completed=[],this.waiters=[],this.defer_id=0}var e;return e=function(){function t(t,e,n){this.rv=t,this.id=e,this.multi=n}return t.prototype.defer=function(t){return this.rv._defer_with_id(this.id,t,this.multi)},t}(),t.prototype.wait=function(t){var e;return this.completed.length?(e=this.completed.shift(),t(e)):this.waiters.push(t)},t.prototype.defer=function(t){var e;return e=this.defer_id++,this._defer_with_id(e,t)},t.prototype.id=function(t,n){return n=!!n,new e(this,t,n)},t.prototype._fulfill=function(t,e){return this.waiters.length?this.waiters.shift()(t):this.completed.push(t)},t.prototype._defer_with_id=function(t,e,n){return this.count++,o(this,e,t,{},n)},t}(),n.stackWalk=s=function(t){var e,n,i,o;for(n=[],i=t?t[r.trace]:a;i;)e="   at "+h(i),n.push(e),i=null!=i&&null!=(o=i[r.parent])?o[r.trace]:void 0;return n},n.exceptionHandler=i=function(t,e){var n;if(e||(e=console.error),e(t.stack),n=s(),n.length)return e("Iced 'stack' trace (w/ real line numbers):"),e(n.join("\n"))},n.catchExceptions=function(t){return void 0!==e&&null!==e?e.on("uncaughtException",function(n){return i(n,t),e.exit(1)}):void 0}}).call(this)}).call(this,t("_process"))},{"./const":5,_process:15}],9:[function(t,e,n){n.read=function(t,e,n,r,i){var o,s,u=8*i-r-1,c=(1<<u)-1,f=c>>1,a=-7,l=n?i-1:0,h=n?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-a)-1,p>>=-a,a+=u;a>0;o=256*o+t[e+l],l+=h,a-=8);for(s=o&(1<<-a)-1,o>>=-a,a+=r;a>0;s=256*s+t[e+l],l+=h,a-=8);if(0===o)o=1-f;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=f}return(p?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,u,c,f=8*o-i-1,a=(1<<f)-1,l=a>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,_=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,s=a):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+l>=1?h/c:h*Math.pow(2,1-l),e*c>=2&&(s++,c/=2),s+l>=a?(u=0,s=a):s+l>=1?(u=(e*c-1)*Math.pow(2,i),s+=l):(u=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&u,p+=_,u/=256,i-=8);for(s=s<<i|u,f+=i;f>0;t[n+p]=255&s,p+=_,s/=256,f-=8);t[n+p-_]|=128*y}},{}],10:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],11:[function(t,e,n){(function(){var e,r,i;r=t("iced-runtime"),i=function(){},e=e=function(){function t(t){t=t||{},this.lazy_loop_delay=t.lazy_loop_delay||30,this.loop_delay=t.loop_delay||5,this.work_min=t.work_min||1,this.auto_stop_bits=t.auto_stop_bits||4096,this.max_bits_per_delta=t.max_bits_per_delta||4,this.auto_stop=!t.auto_stop||t.auto_stop,this.entropies=[],this.running=!0,this.is_generating=!1,this.timer_race_loop()}return t.prototype.generate=function(t,e){var n,i,o,s,u;s=r.findDeferral(arguments),this.is_generating=!0,this.running||this.resume(),i=0,o=[],function(e){return function(c){var f,a;f=[],(a=function(c){var l,h,p;if(l=function(){return c(f)},h=function(){return r.trampoline(function(){return a(c)})},p=function(t){return f.push(t),h()},!(i<t))return l();!function(t){if(e.entropies.length)return n=e.entropies.splice(0,1)[0],i+=n[1],t(o.push(n[0]));!function(t){u=new r.Deferrals(t,{parent:s,filename:"/Users/chris/git/more-entropy/src/generator.iced",funcname:"Generator.generate"}),e.delay(u.defer({lineno:28})),u._fulfill()}(t)}(p)})(c)}}(this)(function(t){return function(){return t.auto_stop&&t.stop(),t.is_generating=!1,e(o)}}(this))},t.prototype.stop=function(){return this.running=!1},t.prototype.resume=function(){return this.running=!0,this.timer_race_loop()},t.prototype.reset=function(){return this.entropies=[],this.total_bits=0},t.prototype.count_unused_bits=function(){var t,e,n,r,i;for(t=0,i=this.entropies,n=0,r=i.length;n<r;n++)e=i[n],t+=e[1];return t},t.prototype.delay=function(t){var e,n,i;n=r.findDeferral(arguments),e=this.is_generating?this.loop_delay:this.lazy_loop_delay,function(t){return function(t){i=new r.Deferrals(t,{parent:n,filename:"/Users/chris/git/more-entropy/src/generator.iced",funcname:"Generator.delay"}),setTimeout(i.defer({lineno:50}),e),i._fulfill()}}()(function(e){return function(){return t()}}())},t.prototype.timer_race_loop=function(){var t,e,n,o;e=i,t=r.findDeferral(arguments),this._last_count=null,n=[],(o=function(e){var i,s,u,c,f;return function(a){var l,h,p;if(l=function(){return a(n)},h=function(){return r.trampoline(function(){return o(a)})},p=function(t){return n.push(t),h()},!e.running)return l();e.count_unused_bits()<e.auto_stop_bits&&(i=e.millisecond_count(),null!=e._last_count&&(s=i-e._last_count)&&(u=Math.floor(e.log_2(Math.abs(s))),u=Math.min(e.max_bits_per_delta,u),c=[s,u],e.entropies.push(c)),e._last_count=i),function(n){f=new r.Deferrals(n,{parent:t,filename:"/Users/chris/git/more-entropy/src/generator.iced",funcname:"Generator.timer_race_loop"}),e.delay(f.defer({lineno:64})),f._fulfill()}(p)}}(this))(e)},t.prototype.log_2=function(t){return Math.log(t)/Math.LN2},t.prototype.millisecond_count=function(){var t,e,n;for(t=Date.now(),e=n=0;Date.now()<t+this.work_min+1;)e++,n=Math.sin(Math.sqrt(Math.log(e+n)));return e},t}(),"undefined"!=typeof window&&null!==window&&(window.Generator=e),void 0!==n&&null!==n&&(n.Generator=e)}).call(this)},{"iced-runtime":7}],12:[function(t,e,n){(function(){n.Generator=t("../lib/generator").Generator}).call(this)},{"../lib/generator":11}],13:[function(t,e,n){"use strict";function r(t){return null===t?String(t):"object"==typeof t||"function"==typeof t?f[p.call(t)]||"object":typeof t}function i(t){return null!==t&&t===t.window}function o(t){if(!t||"object"!==r(t)||t.nodeType||i(t))return!1;try{if(t.constructor&&!_.call(t,"constructor")&&!_.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var e;for(e in t);return void 0===e||_.call(t,e)}function s(t){return"function"===r(t)}function u(){for(var t=[],e=-1,n=arguments.length,r=new Array(n);++e<n;)r[e]=arguments[e];var i={};t.push({args:r,result:{container:i,key:"key"}});for(var o;o=t.pop();)c(t,o.args,o.result);return i.key}function c(t,e,n){var r,i,u,c,f,a,l,h=e[0]||{},p=1,_=e.length,d=!1,g=/\d+/;for("boolean"==typeof h&&(d=h,h=e[1]||{},p=2),"object"==typeof h||s(h)||(h={}),_===p&&(h=this,--p);p<_;p++)if(null!=(r=e[p])){l=y(r);for(i in r)if(!(i in Object.prototype)){if(l&&!g.test(i))continue;if(u=h[i],c=r[i],h===c)continue;d&&c&&(o(c)||(f=y(c)))?(f?(f=!1,a=u&&y(u)?u:[]):a=u&&o(u)?u:{},t.push({args:[d,a,c],result:{container:h,key:i}})):void 0!==c&&(y(r)&&s(c)||(h[i]=c))}}n.container[n.key]=h}for(var f={},a=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],l=0;l<a.length;l++){var h=a[l];f["[object "+h+"]"]=h.toLowerCase()}var p=f.toString,_=f.hasOwnProperty,y=Array.isArray||function(t){return"array"===r(t)};e.exports=u},{}],14:[function(t,e,n){"use strict";function r(t,e,n){for(var r in e)if(e.hasOwnProperty(r)){var o=i(t,r),s=o.base[o.name];if(s)if(s.hasOwnProperty("_handlers")){if(-1!==s._handlers.indexOf(e[r]))throw new Error("Wrapper method for '"+r+"' already installed: "+e[r]);s._handlers.push(e[r])}else o.base[o.name]=n(r,s,e[r],t)}}function i(t,e){for(e=e.split(".");e.length>1;)t=t[e.shift(0)];return{base:t,name:e[0]}}function o(t,e,n,r,i){var s=r[t];if(void 0===o)throw new Error("No known wrapper for method name: "+t);var u=[n],c=s(i,e,u);return c._original=e,c._handlers=u,c}function s(t,e,n,r){return"function"==typeof n&&(r=n,n={}),{base:t||e,db:t||e,options:n||{},callback:r}}function u(t,e,n){var r=e.callback;delete e.callback,n=n.bind(e.base);for(var i=t.length-1;i>=0;i-=1)n=t[i].bind(null,n,e);var o=n();return l(o,r),o}function c(t){return function(){return t.call(this)}}function f(t,e){return function(){return t.call(this,e.options)}}function a(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r=i(t,n),o=r.base[r.name];if(void 0!==o){var s;try{s=o._handlers.indexOf(e[n])}catch(t){s=-1}if(-1===s)throw new Error("Wrapper method for '"+n+"' not installed: "+e[n]);o._handlers.splice(s,1),o._handlers.length||(delete r.base[r.name],r.base[r.name]!==o._original&&(r.base[r.name]=o._original))}}}var l=t("promise-nodify");n.installStaticWrapperMethods=function(t,e){t.new=t.new||function(e,n,r){return new t(e,n,r)},t.destroy=t.destroy||function(e,n,r){var i=s(t,this,n,r),o=new t(e,i.options),u=o.destroy();return l(u,i.callback),u},r(t,e,n.createStaticWrapperMethod)},n.installWrapperMethods=function(t,e){r(t,e,n.createWrapperMethod)},n.createStaticWrapperMethod=function(t,e,n,r){return o(t,e,n,p,r)},n.createWrapperMethod=function(t,e,n,r){return o(t,e,n,h,r)};var h={};h.destroy=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return u(n,o,c(e))}},h.put=function(t,e,n){return function(r,i,o,s,c){var f={};f.base=t||this,f.db=t||this;var a=Array.prototype.slice.call(arguments);f.doc=a.shift();for(var l=("_id"in f.doc);;){var h=a.shift(),p=typeof h;if("string"!==p||l?"string"!==p||!l||"_rev"in f.doc?"object"===p?f.options=h:"function"===p&&(f.callback=h):f.doc._rev=h:(f.doc._id=h,l=!0),!a.length)break}return f.options=f.options||{},u(n,f,function(){return e.call(this,f.doc,f.options)})}},h.post=function(t,e,n){return function(r,i,o){var c=s(t,this,i,o);return c.doc=r,u(n,c,function(){return e.call(this,c.doc,c.options)})}},h.get=function(t,e,n){return function(r,i,o){var c=s(t,this,i,o);return c.docId=r,u(n,c,function(){return e.call(this,c.docId,c.options)})}},h.remove=function(t,e,n){return function(r,i,o,c){var f;return"string"==typeof i?(f=s(t,this,o,c),f.doc={_id:r,_rev:i}):(f=s(t,this,i,o),f.doc=r),u(n,f,function(){return e.call(this,f.doc,f.options)})}},h.bulkDocs=function(t,e,n){return function(r,i,o){var c=s(t,this,i,o);return"new_edits"in r&&(c.options.new_edits=r.new_edits),c.docs=r.docs||r,u(n,c,function(){return e.call(this,c.docs,c.options)})}},h.allDocs=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return u(n,o,f(e,o))}},h.changes=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return u(n,o,f(e,o))}},h.sync=function(t,e,n){return function(r,i,o){var c=s(t,this,i,o);return c.url=r,u(n,c,function(){return e.call(this,c.url,c.options)})}},h["replicate.from"]=h.sync,h["replicate.to"]=h.sync,h.putAttachment=function(t,e,n){return function(r,i,o,c,f,a,l){var h;return"string"==typeof f?(h=s(t,this,a,l),h.rev=o,h.doc=c,h.type=f):(h=s(t,this,f,a),h.rev=null,h.doc=o,h.type=c),h.docId=r,h.attachmentId=i,u(n,h,function(){return e.call(this,h.docId,h.attachmentId,h.rev,h.doc,h.type)})}},h.getAttachment=function(t,e,n){return function(r,i,o,c){var f=s(t,this,o,c);return f.docId=r,f.attachmentId=i,u(n,f,function(){return e.call(this,f.docId,f.attachmentId,f.options)})}},h.removeAttachment=function(t,e,n){return function(r,i,o,c,f){var a=s(t,this,c,f);return a.docId=r,a.attachmentId=i,a.rev=o,u(n,a,function(){return e.call(this,a.docId,a.attachmentId,a.rev)})}},h.query=function(t,e,n){return function(r,i,o){var c=s(t,this,i,o);return c.fun=r,u(n,c,function(){return e.call(this,c.fun,c.options)})}},h.viewCleanup=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return u(n,o,f(e,o))}},h.info=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return u(n,o,c(e))}},h.compact=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return u(n,o,f(e,o))}},h.revsDiff=function(t,e,n){return function(r,i,o){var c=s(t,this,i,o);return c.diff=r,u(n,c,function(){return e.call(this,c.diff)})}},h.list=function(t,e,n){return function(r,i,o){var c=s(t,this,i,o);return c.path=r,u(n,c,function(){return e.call(this,c.path,c.options)})}},h.rewriteResultRequestObject=h.list,h.show=h.list,h.update=h.list,h.getSecurity=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return u(n,o,f(e,o))}},h.putSecurity=function(t,e,n){return function(r,i,o){var c=s(t,this,i,o);return c.secObj=r,u(n,c,function(){return e.call(this,c.secObj)})}};var p={};p.new=function(t,e,n){return function(r,i,o){var c;return"object"==typeof r?c=s(t,this,r,i):(c=s(t,this,i,o),c.options.name=r),u(n,c,function(){return e.call(this,c.options)})}},p.destroy=function(t,e,n){return function(r,i,o){var c;return"object"==typeof r?c=s(t,this,r,i):(c=s(t,this,i,o),c.options.name=r),c.options.internal?e.apply(t,arguments):u(n,c,function(){var t=c.options.name;return delete c.options.name,e.call(this,t,c.options)})}},p.replicate=function(t,e,n){return function(r,i,o,c){var f=s(t,this,o,c);return f.source=r,f.target=i,u(n,f,function(){return e.call(this,f.source,f.target,f.options)})}},p.allDbs=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return u(n,o,c(e))}},n.uninstallWrapperMethods=function(t,e){a(t,e)},n.uninstallStaticWrapperMethods=function(t,e){a(t,e)}},{"promise-nodify":16}],15:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function s(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function u(){d&&_&&(d=!1,_.length?y=_.concat(y):g=-1,y.length&&c())}function c(){if(!d){var t=o(u);d=!0;for(var e=y.length;e;){for(_=y,y=[];++g<e;)_&&_[g].run();g=-1,e=y.length}_=null,d=!1,s(t)}}function f(t,e){this.fun=t,this.array=e}function a(){}var l,h,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var _,y=[],d=!1,g=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];y.push(new f(t,e)),1!==y.length||d||o(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=a,p.addListener=a,p.once=a,p.off=a,p.removeListener=a,p.removeAllListeners=a,p.emit=a,p.prependListener=a,p.prependOnceListener=a,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],16:[function(t,e,n){"use strict";e.exports=function(t,e){"function"==typeof e&&t.then(function(t){e(null,t)},function(t){e(t,null)})}},{}],17:[function(t,e,n){(function(e){"use strict";function r(t){return"_"!==t[0]}function i(t){return!("string"!=typeof t._id||!s.isLocalId(t._id))||!!t._deleted&&0===Object.keys(t).filter(r).length}var o=t("lie"),s=t("./pouch-utils"),u=t("pouchdb-wrappers"),c=t("immediate");n.transform=n.filter=function(t){var n=this,r=function(e){return!i(e)&&t.incoming?t.incoming(s.clone(e)):e},f=function(e){return!i(e)&&t.outgoing?t.outgoing(s.clone(e)):e},a={};"http"===n.type()&&(a.query=function(t){var e={};return t().then(function(t){return s.Promise.all(t.rows.map(function(t){return t.doc?f(t.doc):e})).then(function(n){return n.forEach(function(n,r){n!==e&&(t.rows[r].doc=n)}),t})})}),a.get=function(t){return t().then(function(t){if(Array.isArray(t)){var e={};return s.Promise.all(t.map(function(t){return t.ok?f(t.ok):e})).then(function(n){return n.forEach(function(n,r){n!==e&&(t[r].ok=n)}),t})}return f(t)})},a.bulkDocs=function(t,e){for(var n=0;n<e.docs.length;n++)e.docs[n]=r(e.docs[n]);return o.all(e.docs).then(function(n){return e.docs=n,t()})},a.allDocs=function(t){return t().then(function(t){var e={};return s.Promise.all(t.rows.map(function(t){return t.doc?f(t.doc):e})).then(function(n){return n.forEach(function(n,r){n!==e&&(t.rows[r].doc=n)}),t})})},a.changes=function(t){function n(t){return t.doc?s.Promise.resolve(f(t.doc)).then(function(e){return t.doc=e,t}):s.Promise.resolve(t)}function r(t){return t.results?s.Promise.all(t.results.map(n)).then(function(e){return t.results=e,t}):s.Promise.resolve(t)}var i=t(),o=i.on;i.on=function(t,s){return"change"===t?o.apply(i,[t,function(t){n(t).then(function(t){c(function(){s(t)})})}]):"complete"===t?o.apply(i,[t,function(t){r(t).then(function(t){e.nextTick(function(){s(t)})})}]):o.apply(i,[t,s])};var u=i.then;return i.then=function(t,e){return u.apply(i,[function(n){return r(n).then(t,e)},e])},i},u.installWrapperMethods(n,a)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(n)}).call(this,t("_process"))},{"./pouch-utils":22,_process:15,immediate:18,lie:20,"pouchdb-wrappers":14}],18:[function(t,e,n){(function(t){"use strict";function n(){a=!0;for(var t,e,n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}a=!1}function r(t){1!==l.push(t)||a||i()}var i,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var s=0,u=new o(n),c=t.document.createTextNode("");u.observe(c,{characterData:!0}),i=function(){c.data=s=++s%2}}else if(t.setImmediate||void 0===t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var f=new t.MessageChannel;f.port1.onmessage=n,i=function(){f.port2.postMessage(0)}}var a,l=[];e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],20:[function(t,e,n){"use strict";function r(){}function i(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,t!==r&&c(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(t,e,n){_(function(){var r;try{r=e(n)}catch(e){return y.reject(t,e)}r===t?y.reject(t,new TypeError("Cannot resolve promise with itself")):y.resolve(t,r)})}function u(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}function c(t,e){function n(e){o||(o=!0,y.reject(t,e))}function r(e){o||(o=!0,y.resolve(t,e))}function i(){e(r,n)}var o=!1,s=f(i);"error"===s.status&&n(s.value)}function f(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function a(t){return t instanceof this?t:y.resolve(new this(r),t)}function l(t){var e=new this(r);return y.reject(e,t)}function h(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var o=new Array(n),s=0,u=-1,c=new this(r);++u<n;)!function(t,r){function u(t){o[r]=t,++s!==n||i||(i=!0,y.resolve(c,o))}e.resolve(t).then(u,function(t){i||(i=!0,y.reject(c,t))})}(t[u],u);return c}function p(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var o=-1,s=new this(r);++o<n;)!function(t){e.resolve(t).then(function(t){i||(i=!0,y.resolve(s,t))},function(t){i||(i=!0,y.reject(s,t))})}(t[o]);return s}var _=t("immediate"),y={},d=["REJECTED"],g=["FULFILLED"],w=["PENDING"];e.exports=i,i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){if("function"!=typeof t&&this.state===g||"function"!=typeof e&&this.state===d)return this;var n=new this.constructor(r);if(this.state!==w){s(n,this.state===g?t:e,this.outcome)}else this.queue.push(new o(n,t,e));return n},o.prototype.callFulfilled=function(t){y.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){s(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){y.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){s(this.promise,this.onRejected,t)},y.resolve=function(t,e){var n=f(u,e);if("error"===n.status)return y.reject(t,n.value);var r=n.value;if(r)c(t,r);else{t.state=g,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},y.reject=function(t,e){t.state=d,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},i.resolve=a,i.reject=l,i.all=h,i.race=p},{immediate:18}],21:[function(t,e,n){"use strict";var r=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(t("lie")),i="function"==typeof Promise?Promise:r;e.exports=i},{lie:20}],22:[function(t,e,n){(function(e){"use strict";var r=t("pouchdb-promise");n.once=function(t){var e=!1;return n.getArguments(function(n){if(e)throw console.trace(),new Error("once called  more than once");e=!0,t.apply(this,n)})},n.getArguments=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}},n.toPromise=function(t){return n.getArguments(function(i){var o,s=this,u="function"==typeof i[i.length-1]&&i.pop();u&&(o=function(t,n){e.nextTick(function(){u(t,n)})});var c=new r(function(e,r){try{var o=n.once(function(t,n){t?r(t):e(n)});i.push(o),t.apply(s,i)}catch(t){r(t)}});return o&&c.then(function(t){o(null,t)},o),c.cancel=function(){return this},c})},n.inherits=t("inherits"),n.Promise=r,n.extend=t("pouchdb-extend"),n.clone=function(t){return n.extend(!0,{},t)},n.isLocalId=function(t){return/^_local/.test(t)}}).call(this,t("_process"))},{_process:15,inherits:19,"pouchdb-extend":13,"pouchdb-promise":21}],23:[function(t,e,n){(function(){var e,r,i,o,s,u={}.hasOwnProperty,c=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=t("./algbase").BlockCipher,s=t("./util").scrub_vec,o=function(){function t(){var t;this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=function(){var e,n;for(n=[],t=e=0;e<4;t=++e)n.push([]);return n}(),this.INV_SUB_MIX=function(){var e,n;for(n=[],t=e=0;e<4;t=++e)n.push([]);return n}(),this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}return t.prototype.init=function(){var t,e,n,r,i,o,s,u,c,f;for(t=function(){var t,n;for(n=[],e=t=0;t<256;e=++t)e<128?n.push(e<<1):n.push(e<<1^283);return n}(),i=0,c=0,e=f=0;f<256;e=++f)n=c^c<<1^c<<2^c<<3^c<<4,n=n>>>8^255&n^99,this.SBOX[i]=n,this.INV_SBOX[n]=i,o=t[i],s=t[o],u=t[s],r=257*t[n]^16843008*n,this.SUB_MIX[0][i]=r<<24|r>>>8,this.SUB_MIX[1][i]=r<<16|r>>>16,this.SUB_MIX[2][i]=r<<8|r>>>24,this.SUB_MIX[3][i]=r,r=16843009*u^65537*s^257*o^16843008*i,this.INV_SUB_MIX[0][n]=r<<24|r>>>8,this.INV_SUB_MIX[1][n]=r<<16|r>>>16,this.INV_SUB_MIX[2][n]=r<<8|r>>>24,this.INV_SUB_MIX[3][n]=r,0===i?i=c=1:(i=o^t[t[t[u^o]]],c^=t[t[c]]);return!0},t}(),i=new o,e=function(t){function e(t){this._key=t.clone(),this._doReset()}return c(e,t),e.blockSize=16,e.prototype.blockSize=e.blockSize,e.keySize=32,e.prototype.keySize=e.keySize,e.ivSize=e.blockSize,e.prototype.ivSize=e.ivSize,e.prototype._doReset=function(){var t,e,n,r,o,s,u,c;for(n=this._key.words,e=this._key.sigBytes/4,this._nRounds=e+6,o=4*(this._nRounds+1),this._keySchedule=[],r=u=0;0<=o?u<o:u>o;r=0<=o?++u:--u)this._keySchedule[r]=r<e?n[r]:(s=this._keySchedule[r-1],r%e==0?(s=s<<8|s>>>24,s=i.SBOX[s>>>24]<<24|i.SBOX[s>>>16&255]<<16|i.SBOX[s>>>8&255]<<8|i.SBOX[255&s],s^=i.RCON[r/e|0]<<24):e>6&&r%e==4&&(s=i.SBOX[s>>>24]<<24|i.SBOX[s>>>16&255]<<16|i.SBOX[s>>>8&255]<<8|i.SBOX[255&s]),this._keySchedule[r-e]^s);for(this._invKeySchedule=[],t=c=0;0<=o?c<o:c>o;t=0<=o?++c:--c)r=o-t,s=this._keySchedule[r-(t%4?0:4)],this._invKeySchedule[t]=t<4||r<=4?s:i.INV_SUB_MIX[0][i.SBOX[s>>>24]]^i.INV_SUB_MIX[1][i.SBOX[s>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[s>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[255&s]];return!0},e.prototype.encryptBlock=function(t,e){return null==e&&(e=0),this._doCryptBlock(t,e,this._keySchedule,i.SUB_MIX,i.SBOX)},e.prototype.decryptBlock=function(t,e){var n,r;return null==e&&(e=0),n=[t[e+3],t[e+1]],t[e+1]=n[0],t[e+3]=n[1],this._doCryptBlock(t,e,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX),r=[t[e+3],t[e+1]],t[e+1]=r[0],t[e+3]=r[1],r},e.prototype.scrub=function(){return s(this._keySchedule),s(this._invKeySchedule),this._key.scrub()},e.prototype._doCryptBlock=function(t,e,n,r,i){var o,s,u,c,f,a,l,h,p,_,y;for(s=t[e]^n[0],u=t[e+1]^n[1],c=t[e+2]^n[2],f=t[e+3]^n[3],o=4,_=1,y=this._nRounds;1<=y?_<y:_>y;1<=y?++_:--_)a=r[0][s>>>24]^r[1][u>>>16&255]^r[2][c>>>8&255]^r[3][255&f]^n[o++],l=r[0][u>>>24]^r[1][c>>>16&255]^r[2][f>>>8&255]^r[3][255&s]^n[o++],h=r[0][c>>>24]^r[1][f>>>16&255]^r[2][s>>>8&255]^r[3][255&u]^n[o++],p=r[0][f>>>24]^r[1][s>>>16&255]^r[2][u>>>8&255]^r[3][255&c]^n[o++],s=a,u=l,c=h,f=p;return a=(i[s>>>24]<<24|i[u>>>16&255]<<16|i[c>>>8&255]<<8|i[255&f])^n[o++],l=(i[u>>>24]<<24|i[c>>>16&255]<<16|i[f>>>8&255]<<8|i[255&s])^n[o++],h=(i[c>>>24]<<24|i[f>>>16&255]<<16|i[s>>>8&255]<<8|i[255&u])^n[o++],p=(i[f>>>24]<<24|i[s>>>16&255]<<16|i[u>>>8&255]<<8|i[255&c])^n[o++],t[e]=a,t[e+1]=l,t[e+2]=h,t[e+3]=p},e}(r),n.AES=e}).call(this)},{"./algbase":24,"./util":45}],24:[function(t,e,n){(function(){var e,r,i,o,s,u,c={}.hasOwnProperty,f=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};s=t("./wordarray").WordArray,u=t("./util"),r=function(){function t(){this.reset()}return t.prototype._minBufferSize=0,t.prototype.reset=function(){return this._data=new s,this._nDataBytes=0},t.prototype._append=function(t){return this._data.concat(t),this._nDataBytes+=t.sigBytes},t.prototype._process=function(t){var e,n,r,i,o,u,c,f,a,l,h;if(n=this._data,i=n.words,r=n.sigBytes,e=4*this.blockSize,o=r/e,o=t?Math.ceil(o):Math.max((0|o)-this._minBufferSize,0),c=o*this.blockSize,u=Math.min(4*c,r),c){for(f=l=0,h=this.blockSize;h>0?l<c:l>c;f=l+=h)this._doProcessBlock(i,f);a=i.splice(0,c),n.sigBytes-=u}return new s(a,u)},t.prototype.copy_to=function(t){return t._data=this._data.clone(),t._nDataBytes=this._nDataBytes},t.prototype.clone=function(){var e;return e=new t,this.copy_to(e),e},t}(),i=function(t){function e(){e.__super__.constructor.call(this)}return f(e,t),e.prototype.reset=function(){return e.__super__.reset.call(this),this._doReset(),this},e.prototype.update=function(t){return this._append(t),this._process(),this},e.prototype.finalize=function(t){return t&&this._append(t),this._doFinalize()},e.prototype.bufhash=function(t){var e,n,r;return n=s.from_buffer(t),r=this.finalize(n),e=r.to_buffer(),n.scrub(),r.scrub(),e},e}(r),n.BlockCipher=e=function(){function t(t){}return t.prototype.encryptBlock=function(t,e){},t}(),o=function(){function t(){}return t.prototype.encryptBlock=function(t,e){var n,r;return null==e&&(e=0),r=this.get_pad(),n=Math.min(t.words.length-e,this.bsiw),t.xor(r,{dst_offset:e,n_words:n}),r.scrub(),this.bsiw},t.prototype.encrypt=function(t){var e,n,r,i;for(e=n=0,r=t.words.length,i=this.bsiw;i>0?n<r:n>r;e=n+=i)this.encryptBlock(t,e);return t},t.prototype.bulk_encrypt=function(t,e){var n,r,i,o,s;return r=t.input,i=t.progress_hook,s=t.what,o={update:function(t){return function(e,n){var i,o,s,u;for(u=[],i=o=e,s=t.bsiw;s>0?o<n:o>n;i=o+=s)u.push(t.encryptBlock(r,i));return u}}(this),finalize:function(){return r},default_n:1024*this.bsiw},n={progress_hook:i,cb:e,what:s},u.bulk(r.sigBytes,o,n)},t}(),n.BlockCipher=e,n.Hasher=i,n.BufferedBlockAlgorithm=r,n.StreamCipher=o}).call(this)},{"./util":45,"./wordarray":46}],25:[function(t,e,n){(function(){var e,r,i,o,s,u,c,f,a,l={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};a=t("./hmac"),i=a.HMAC,f=a.bulk_sign,s=t("./sha512").SHA512,o=t("./sha3").SHA3,u=t("./wordarray").WordArray,e=function(){function t(){this.hasherBlockSize=this.hashers[0].hasherBlockSize,this.hasherBlockSizeBytes=4*this.hasherBlockSize,this.reset()}return t.prototype.reset=function(){var t,e,n,r;for(r=this.hashers,e=0,n=r.length;e<n;e++)t=r[e],t.reset();return this},t.prototype.update=function(t){var e,n,r,i;for(i=this.hashers,n=0,r=i.length;n<r;n++)e=i[n],e.update(t);return this},t.prototype.scrub=function(){var t,e,n,r;for(r=this.hashers,e=0,n=r.length;e<n;e++)t=r[e],t.scrub();return this},t.prototype.finalize=function(t){var e,n,r,i,o,s;for(n=function(){var n,r,i,o;for(i=this.hashers,o=[],n=0,r=i.length;n<r;n++)e=i[n],o.push(e.finalize(t));return o}.call(this),r=n[0],s=n.slice(1),i=0,o=s.length;i<o;i++)e=s[i],this._coalesce(r,e),e.scrub();return r},t}(),r=function(t){function e(t,n){var r,u,c,f,a;null==n&&(n=[s,o]),a=t.split(n.length),this.hashers=function(){var t,e,o;for(o=[],u=t=0,e=n.length;t<e;u=++t)c=n[u],f=a[u],r=new i(f,c),f.scrub(),o.push(r);return o}(),e.__super__.constructor.call(this)}return h(e,t),e.get_output_size=function(){return s.output_size+o.output_size},e.prototype._coalesce=function(t,e){return t.concat(e)},e.prototype.get_output_size=function(){var t,e,n,r,i;for(e=0,i=this.hashers,n=0,r=i.length;n<r;n++)t=i[n],e+=t.get_output_size();return e},e.sign=function(t){var n,r;return r=t.key,n=t.input,new e(r).finalize(n)},e.bulk_sign=function(t,n){return t.klass=e,t.what="HMAC-SHA512-SHA3",f(t,n)},e}(e),c=function(t){function e(t,n){var r;null==n&&(n=[s,o]),this.hashers=function(){var e,o,s;for(s=[],e=0,o=n.length;e<o;e++)r=n[e],s.push(new i(t,r));return s}(),e.__super__.constructor.call(this)}return h(e,t),e.prototype.reset=function(){var t,n,r,i,o;for(e.__super__.reset.call(this),o=this.hashers,n=r=0,i=o.length;r<i;n=++r)t=o[n],t.update(new u([n]));return this},e.get_output_size=function(){return Math.max(s.output_size,o.output_size)},e.prototype._coalesce=function(t,e){return t.xor(e,{})},e.prototype.get_output_size=function(){var t
;return Math.max.apply(Math,function(){var e,n,r,i;for(r=this.hashers,i=[],e=0,n=r.length;e<n;e++)t=r[e],i.push(t.get_output_size());return i}.call(this))},e.sign=function(t){var n,r;return r=t.key,n=t.input,new e(r).finalize(n)},e.bulk_sign=function(t,n){return t.klass=e,t.what="HMAC-SHA512-XOR-SHA3",f(t,n)},e}(e),n.Concat=r,n.XOR=c}).call(this)},{"./hmac":30,"./sha3":41,"./sha512":43,"./wordarray":46}],26:[function(t,e,n){(function(){var e,r,i,o,s,u,c,f={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};c=t("iced-runtime"),o=t("./wordarray").WordArray,i=t("./algbase").StreamCipher,r=function(){function t(t){var e,n,r;r=t.value,n=t.len,this._value=null!=r?r.clone():(null==n&&(n=2),new o(function(){var t,r;for(r=[],e=t=0;0<=n?t<n:t>n;e=0<=n?++t:--t)r.push(0);return r}()))}return t.prototype.WORD_MAX=4294967295,t.prototype.inc=function(){var e,n;for(e=!0,n=this._value.words.length-1;e&&n>=0;)++this._value.words[n]>t.WORD_MAX?this._value.words[n]=0:e=!1,n--;return this},t.prototype.inc_le=function(){var e,n;for(e=!0,n=0;e&&n<this._value.words.length;)++this._value.words[n]>t.WORD_MAX?this._value.words[n]=0:e=!1,n++;return this},t.prototype.get=function(){return this._value},t.prototype.copy=function(){return this._value.clone()},t}(),e=function(t){function e(t){if(this.block_cipher=t.block_cipher,this.iv=t.iv,e.__super__.constructor.call(this),this.bsiw=this.block_cipher.blockSize/4,this.iv.sigBytes!==this.block_cipher.blockSize)throw new Error("IV is wrong length ("+this.iv.sigBytes+")");this.ctr=new r({value:this.iv})}return a(e,t),e.prototype.scrub=function(){return this.block_cipher.scrub()},e.prototype.get_pad=function(){var t;return t=this.ctr.copy(),this.ctr.inc(),this.block_cipher.encryptBlock(t.words),t},e}(i),u=function(t){var n,r,i,o,s;return n=t.block_cipher,o=t.iv,i=t.input,r=new e({block_cipher:n,iv:o}),s=r.encrypt(i),r.scrub(),s},s=function(t,n){var r,i,o,s,u,f,a,l,h;l=c.findDeferral(arguments),r=t.block_cipher,s=t.iv,o=t.input,u=t.progress_hook,a=t.what,i=new e({block_cipher:r,iv:s}),function(t){return function(t){h=new c.Deferrals(t,{parent:l,filename:"/Users/max/src/keybase/triplesec/src/ctr.iced"}),i.bulk_encrypt({input:o,progress_hook:u,what:a},h.defer({assign_fn:function(){return function(){return f=arguments[0]}}(),lineno:121})),h._fulfill()}}()(function(t){return function(){return n(f)}}())},n.Counter=r,n.Cipher=e,n.encrypt=u,n.bulk_encrypt=s}).call(this)},{"./algbase":24,"./wordarray":46,"iced-runtime":7}],27:[function(t,e,n){(function(){var e,r,i,o,s,u,c,f,a,l,h,p,_={}.hasOwnProperty,y=function(t,e){function n(){this.constructor=t}for(var r in e)_.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};l=t("iced-runtime"),f=t("./wordarray").WordArray,t("./salsa20"),e=t("./aes").AES,u=t("./twofish").TwoFish,t("./ctr"),i=t("./combine").Concat,t("./sha512").SHA512,s=t("./salsa20").Salsa20,p=t("./enc"),r=p.Base,c=p.V,h=t("iced-error").make_esc,o=function(t){function n(t){var e,r;r=t.key,e=t.enc,n.__super__.constructor.call(this,{key:r}),null!=e&&(this.key=e.key,this.derived_keys=e.derived_keys)}return y(n,t),n.prototype.read_header=function(t){var e,n;return e=null==(n=this.ct.unshift(2))?new Error("Ciphertext underrun in header"):null==(this.version=c[n.words[1]])?new Error("bad header; couldn't find a good version (got "+n.words[1]+")"):n.words[0]!==this.version.header[0]?new Error("Bad header: unrecognized magic value"):null,t(e)},n.prototype.verify_sig=function(t,e){var n,r,o,s,u;s=l.findDeferral(arguments),function(e){return function(c){if(null==(o=e.ct.unshift(i.get_output_size()/4)))return c(r=new Error("Ciphertext underrun in signature"));!function(i){u=new l.Deferrals(i,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.verify_sig"}),e.sign({input:e.ct,key:t,salt:e.salt},u.defer({assign_fn:function(){return function(){return r=arguments[0],n=arguments[1]}}(),lineno:63})),u._fulfill()}(function(){return c(r=null!=r?r:o.equal(n)?null:new Error("Signature mismatch or bad decryption key"))})}}(this)(function(t){return function(){return e(r)}}())},n.prototype.unshift_iv=function(t,e,n){var r,i;return r=null!=(i=this.ct.unshift(t/4))?null:new Error("Ciphertext underrun in "+e),n(r,i)},n.prototype.read_salt=function(t){var e;return e=null==(this.salt=this.ct.unshift(this.version.salt_size/4))?new Error("Ciphertext underrrun in read_salt"):null,t(e)},n.prototype.generate_keys=function(t,e){var n,r,i,o,s;o=l.findDeferral(arguments),i=t.progress_hook,function(t){return function(e){s=new l.Deferrals(e,{parent:o,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.generate_keys"}),t.kdf({salt:t.salt,progress_hook:i},s.defer({assign_fn:function(){return function(){return n=arguments[0],r=arguments[1]}}(),lineno:114})),s._fulfill()}}(this)(function(t){return function(){return e(n,r)}}())},n.prototype.run=function(t,n){var r,i,o,c,a,p,_,y,d;y=l.findDeferral(arguments),o=t.data,p=t.progress_hook,c=h(n,"Decryptor::run"),this.ct=f.from_buffer(o),function(t){return function(e){d=new l.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.read_header(c(d.defer({lineno:141}))),d._fulfill()}}(this)(function(t){return function(){!function(e){d=new l.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.read_salt(c(d.defer({lineno:142}))),d._fulfill()}(function(){!function(e){d=new l.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.generate_keys({progress_hook:p},c(d.defer({assign_fn:function(t){return function(){return t.keys=arguments[0]}}(t),lineno:143}))),d._fulfill()}(function(){!function(e){d=new l.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.verify_sig(t.keys.hmac,c(d.defer({lineno:144}))),d._fulfill()}(function(){!function(n){d=new l.Deferrals(n,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.unshift_iv(e.ivSize,"AES",c(d.defer({assign_fn:function(){return function(){return a=arguments[0]}}(),lineno:145}))),d._fulfill()}(function(){!function(e){d=new l.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.run_aes({iv:a,input:t.ct,key:t.keys.aes,progress_hook:p},c(d.defer({assign_fn:function(){return function(){return i=arguments[0]}}(),lineno:146}))),d._fulfill()}(function(){!function(e){d=new l.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.unshift_iv(u.ivSize,"2fish",c(d.defer({assign_fn:function(){return function(){return a=arguments[0]}}(),lineno:147}))),d._fulfill()}(function(){!function(e){d=new l.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.run_twofish({iv:a,input:t.ct,key:t.keys.twofish,progress_hook:p},c(d.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:148}))),d._fulfill()}(function(){!function(e){d=new l.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.unshift_iv(s.ivSize,"Salsa",c(d.defer({assign_fn:function(){return function(){return a=arguments[0]}}(),lineno:149}))),d._fulfill()}(function(){!function(e){d=new l.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.run_salsa20({iv:a,input:t.ct,key:t.keys.salsa20,output_iv:!1,progress_hook:p},c(d.defer({assign_fn:function(){return function(){return _=arguments[0]}}(),lineno:150}))),d._fulfill()}(function(){return n(null,_.to_buffer())})})})})})})})})})}}(this))},n.prototype.clone=function(){var t,e;return t=new n({key:null!=(e=this.key)?e.to_buffer():void 0,rng:this.rng,version:this.version}),t.derived_keys=this.clone_derived_keys(),t},n}(r),a=function(t,e){var n,r,i,s,u,c,f,a;f=l.findDeferral(arguments),s=t.key,n=t.data,u=t.progress_hook,r=new o({key:s}),function(t){return function(t){a=new l.Deferrals(t,{parent:f,filename:"/Users/max/src/keybase/triplesec/src/dec.iced"}),r.run({data:n,progress_hook:u},a.defer({assign_fn:function(){return function(){return i=arguments[0],c=arguments[1]}}(),lineno:180})),a._fulfill()}}()(function(t){return function(){return r.scrub(),e(i,c)}}())},n.Decryptor=o,n.decrypt=a}).call(this)},{"./aes":23,"./combine":25,"./ctr":26,"./enc":29,"./salsa20":36,"./sha512":43,"./twofish":44,"./wordarray":46,"iced-error":3,"iced-runtime":7}],28:[function(t,e,n){(function(e){(function(){var r,i,o,s,u,c;c=t("iced-runtime"),u=t("./hmac"),t("./combine").XOR,t("./sha512"),t("./sha3"),s=t("./wordarray").WordArray,o=t("iced-lock").Lock,i=function(){function t(t,e,n){this.hmac=n||u.sign,this.security_strength=256,t=this.check_entropy(t),e||(e=new s([])),this._instantiate(t,e)}return t.prototype.check_entropy=function(t,e){if(null==e&&(e=!1),8*t.sigBytes*2<(e?2:3)*this.security_strength)throw new Error("entropy must be at least "+1.5*this.security_strength+" bits.");return t},t.prototype._hmac=function(t,e){return this.hmac({key:t,input:e})},t.prototype._update=function(t){var e,n;return e=new s([0],1),null!=t&&(e=e.concat(t)),n=this.V.clone().concat(e),this.K=this._hmac(this.K,n),n.scrub(),e.scrub(),this.V=this._hmac(this.K,this.V),null!=t&&(n=this.V.clone().concat(new s([1<<24],1)).concat(t),this.K=this._hmac(this.K,n),n.scrub(),this.V=this._hmac(this.K,this.V)),null!=t?t.scrub():void 0},t.prototype._instantiate=function(t,n){var r,i,o;return o=t.concat(n),i=64,this.K=s.from_buffer(new e(function(){var t,e;for(e=[],r=t=0;0<=i?t<i:t>i;r=0<=i?++t:--t)e.push(0);return e}())),this.V=s.from_buffer(new e(function(){var t,e;for(e=[],r=t=0;0<=i?t<i:t>i;r=0<=i?++t:--t)e.push(1);return e}())),this._update(o),t.scrub(),this.reseed_counter=1},t.prototype.reseed=function(t){return this._update(this.check_entropy(t,!0)),this.reseed_counter=1},t.prototype.generate=function(t){var e,n;if(8*t>7500)throw new Error("generate cannot generate > 7500 bits in 1 call.");if(this.reseed_counter>=1e4)throw new Error("Need a reseed!");for(e=[],0;0===e.length||e.length*e[0].length*4<t;)this.V=this._hmac(this.K,this.V),e.push(this.V.words);return this._update(),this.reseed_counter+=1,new s((n=[]).concat.apply(n,e)).truncate(t)},t}(),r=function(){function t(t,e){this.gen_seed=t,this.hmac=e,this.drbg=null,this.lock=new o}return t.prototype.generate=function(t,e){var n,r,o,s;o=c.findDeferral(arguments),function(t){return function(e){s=new c.Deferrals(e,{parent:o,filename:"/Users/max/src/keybase/triplesec/src/drbg.iced",funcname:"ADRBG.generate"}),t.lock.acquire(s.defer({lineno:148})),s._fulfill()}}(this)(function(u){return function(){!function(t){if(null!=u.drbg)return t();!function(t){s=new c.Deferrals(t,{parent:o,filename:"/Users/max/src/keybase/triplesec/src/drbg.iced",funcname:"ADRBG.generate"}),u.gen_seed(256,s.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:150})),s._fulfill()}(function(){return t(u.drbg=new i(r,null,u.hmac))})}(function(){!function(t){if(!(u.drbg.reseed_counter>100))return t();!function(t){s=new c.Deferrals(t,{parent:o,filename:"/Users/max/src/keybase/triplesec/src/drbg.iced",funcname:"ADRBG.generate"}),u.gen_seed(256,s.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:153})),s._fulfill()}(function(){return t(u.drbg.reseed(r))})}(function(){return n=u.drbg.generate(t),u.lock.release(),e(n)})})}}(this))},t}(),n.DRBG=i,n.ADRBG=r}).call(this)}).call(this,t("buffer").Buffer)},{"./combine":25,"./hmac":30,"./sha3":41,"./sha512":43,"./wordarray":46,buffer:2,"iced-lock":4,"iced-runtime":7}],29:[function(t,e,n){(function(){var e,r,i,o,s,u,c,f,a,l,h,p,_,y,d,g,w,v,m,b,k={}.hasOwnProperty,S=function(t,e){function n(){this.constructor=t}for(var r in e)k.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};d=t("iced-runtime"),h=t("./wordarray").WordArray,v=t("./salsa20"),e=t("./aes").AES,a=t("./twofish").TwoFish,_=t("./ctr"),b=t("./combine"),p=b.XOR,o=b.Concat,t("./sha512").SHA512,c=t("./pbkdf2").PBKDF2,f=t("./scrypt").Scrypt,m=t("./util"),w=t("./prng"),g=t("iced-error").make_esc,u=t("./hmac").HMAC_SHA256,l={1:{header:[479516638,1],salt_size:8,xsalsa20_rev:!0,kdf:{klass:c,opts:{c:1024,klass:p}},hmac_key_size:96,version:1},2:{header:[479516638,2],salt_size:16,xsalsa20_rev:!0,kdf:{klass:f,opts:{c:64,klass:p,N:12,r:8,p:1}},hmac_key_size:96,version:2},3:{header:[479516638,3],salt_size:16,xsalsa20_rev:!1,kdf:{klass:f,opts:{c:1,klass:u,N:15,r:8,p:1}},hmac_key_size:96,version:3}},n.CURRENT_VERSION=i=3,r=function(){function t(t){var e,n;if(e=t.key,n=t.version,this.version=l[null!=n?n:i],null==this.version)throw new Error("unknown version: "+n);this.set_key(e),this.derived_keys={}}return t.prototype.kdf=function(t,n){var r,i,o,s,u,c,f,l,p,_,y,g,w,m,b,k,S,B;S=d.findDeferral(arguments),m=t.salt,s=t.extra_keymaterial,g=t.progress_hook,function(t){return function(e){B=new d.Deferrals(e,{parent:S,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.kdf"}),t._check_scrubbed(t.key,"in KDF",n,B.defer({lineno:97})),B._fulfill()}}(this)(function(t){return function(){b=m.to_hex(),f=t.key.clone(),function(e){B=new d.Deferrals(e,{parent:S,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.kdf"}),t._check_scrubbed(f,"KDF",n,B.defer({lineno:105})),B._fulfill()}(function(){!function(n){if(null!=(l=t.derived_keys[b]))return n();t._kdf=new t.version.kdf.klass(t.version.kdf.opts),_={hmac:t.version.hmac_key_size,aes:e.keySize,twofish:a.keySize,salsa20:v.Salsa20.keySize},y=["hmac","aes","twofish","salsa20"],i=s||0;for(c in _)k=_[c],i+=k;r={dkLen:i,key:f,progress_hook:g,salt:m},function(e){B=new d.Deferrals(e,{parent:S,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.kdf"}),t._kdf.run(r,B.defer({assign_fn:function(){return function(){return w=arguments[0]}}(),lineno:124})),B._fulfill()}(function(){var e,r;for(l={},u=0,e=0,r=y.length;e<r;e++)c=y[e],k=_[c],p=k/4,o=u+p,l[c]=new h(w.words.slice(u,o)),u=o;return l.extra=new h(w.words.slice(o)).to_buffer(),n(t.derived_keys[b]=l)})}(function(){return n(null,l)})})}}(this))},t.prototype.set_key=function(t){var e;return null==t?this.scrub():(e=h.from_buffer(t),this.key&&this.key.equal(e)?void 0:(this.scrub(),this.key=e))},t.prototype._check_scrubbed=function(t,e,n,r){return null==t||t.is_scrubbed()?n(new Error(e+": Failed due to scrubbed key!"),null):r()},t.prototype.sign=function(t,e){var n,r,i,s,u,c,f;c=d.findDeferral(arguments),n=t.input,r=t.key,u=t.salt,s=t.progress_hook,function(t){return function(n){f=new d.Deferrals(n,{parent:c,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.sign"}),t._check_scrubbed(r,"HMAC",e,f.defer({lineno:182})),f._fulfill()}}(this)(function(t){return function(){n=new h(t.version.header).concat(u).concat(n),function(t){f=new d.Deferrals(t,{parent:c,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.sign"}),o.bulk_sign({key:r,input:n,progress_hook:s},f.defer({assign_fn:function(){return function(){return i=arguments[0]}}(),lineno:184})),f._fulfill()}(function(){return n.scrub(),e(null,i)})}}(this))},t.prototype.run_salsa20=function(t,e){var n,r,i,o,s,u,c,f,a;f=d.findDeferral(arguments),i=t.input,s=t.key,o=t.iv,u=t.output_iv,c=t.progress_hook,function(t){return function(n){a=new d.Deferrals(n,{parent:f,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_salsa20"}),t._check_scrubbed(s,"Salsa20",e,a.defer({lineno:200})),a._fulfill()}}(this)(function(t){return function(){n={input:i,progress_hook:c,key:s,iv:o},t.version.xsalsa20_rev&&(n.key=s.clone().endian_reverse(),n.iv=o.clone().endian_reverse()),function(t){a=new d.Deferrals(t,{parent:f,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_salsa20"}),v.bulk_encrypt(n,a.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:212})),a._fulfill()}(function(){return u&&(r=o.clone().concat(r)),t.version.xsalsa20_rev&&(n.key.scrub(),n.iv.scrub()),e(null,r)})}}(this))},t.prototype.run_twofish=function(t,e){var n,r,i,o,s,u,c,f;c=d.findDeferral(arguments),i=t.input,s=t.key,o=t.iv,u=t.progress_hook,function(t){return function(n){f=new d.Deferrals(n,{parent:c,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_twofish"}),t._check_scrubbed(s,"TwoFish",e,f.defer({lineno:235})),f._fulfill()}}(this)(function(t){return function(){n=new a(s),function(t){f=new d.Deferrals(t,{parent:c,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_twofish"}),_.bulk_encrypt({block_cipher:n,iv:o,input:i,progress_hook:u,what:"twofish"},f.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:237})),f._fulfill()}(function(){return n.scrub(),e(null,o.clone().concat(r))})}}())},t.prototype.run_aes=function(t,n){var r,i,o,s,u,c,f,a;f=d.findDeferral(arguments),o=t.input,u=t.key,s=t.iv,c=t.progress_hook,function(t){return function(e){a=new d.Deferrals(e,{parent:f,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_aes"}),t._check_scrubbed(u,"AES",n,a.defer({lineno:252})),a._fulfill()}}(this)(function(t){return function(){r=new e(u),function(t){a=new d.Deferrals(t,{parent:f,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_aes"}),_.bulk_encrypt({block_cipher:r,iv:s,input:o,progress_hook:c,what:"aes"},a.defer({assign_fn:function(){return function(){return i=arguments[0]}}(),lineno:254})),a._fulfill()}(function(){return r.scrub(),n(null,s.clone().concat(i))})}}())},t.prototype.scrub=function(){var t,e,n,r,i;if(null!=this.key&&this.key.scrub(),null!=this.derived_keys){i=this.derived_keys;for(r in i){n=i[r];for(t in n)e=n[t],"extra"!==t&&e.scrub()}}return this.derived_keys={},null!=this.salt&&this.salt.scrub(),this.salt=null,this.key=null},t.prototype.clone_derived_keys=function(){var t,e,n,r,i,o;if(r=null,null!=this.derived_keys){r={},o=this.derived_keys;for(i in o){n=o[i],r[i]={};for(t in n)e=n[t],r[i][t]="extra"===t?e:e.clone()}}return r},t}(),s=function(t){function n(t){var e,r,i;e=t.key,r=t.rng,i=t.version,n.__super__.constructor.call(this,{key:e,version:i}),this.rng=r||w.generate}return S(n,t),n.prototype.pick_random_ivs=function(t,n){var r,i,o,s,u,c;u=d.findDeferral(arguments),t.progress_hook,r={aes:e.ivSize,twofish:a.ivSize,salsa20:v.Salsa20.ivSize},i={},function(t){return function(e){var n,f,a,l,h;l=r,a=function(){var t;t=[];for(f in l)t.push(f);return t}(),n=0,(h=function(e){var r,f,p;if(r=e,f=function(){return d.trampoline(function(){return++n,h(e)})},p=f,!(n<a.length))return r();o=a[n],s=l[o],function(e){c=new d.Deferrals(e,{parent:u,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.pick_random_ivs"}),t.rng(s,c.defer({assign_fn:function(t,e){return function(){return t[e]=arguments[0]}}(i,o),lineno:377})),c._fulfill()}(p)})(e)}}(this)(function(t){return function(){return n(i)}}())},n.prototype.resalt=function(t,e){var n,r,i,o,s,u;s=d.findDeferral(arguments),o=t.salt,r=t.extra_keymaterial,i=t.progress_hook,n=null,function(t){return function(e){if(null!=o)return e(o.length!==t.version.salt_size?n=new Error("Need a salt of exactly "+t.version.salt_size+" bytes (got "+o.length+")"):t.salt=h.alloc(o));!function(e){u=new d.Deferrals(e,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.resalt"}),t.rng(t.version.salt_size,u.defer({assign_fn:function(t){return function(){return t.salt=arguments[0]}}(t),lineno:393})),u._fulfill()}(e)}}(this)(function(t){return function(){!function(e){if(null!=n)return e();!function(e){u=new d.Deferrals(e,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.resalt"}),t.kdf({extra_keymaterial:r,progress_hook:i,salt:t.salt},u.defer({assign_fn:function(t){return function(){return n=arguments[0],t.keys=arguments[1]}}(t),lineno:399})),u._fulfill()}(e)}(function(){return e(n,t.keys)})}}(this))},n.prototype.run=function(t,e){var n,r,i,o,s,u,c,f,a,l,p,_,y,w;y=d.findDeferral(arguments),o=t.data,p=t.salt,u=t.extra_keymaterial,f=t.progress_hook,s=g(e,"Encryptor::run"),function(t){return function(e){if(null==p&&null!=t.salt)return e();!function(e){w=new d.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.resalt({salt:p,extra_keymaterial:u,progress_hook:f},s(w.defer({lineno:430}))),w._fulfill()}(e)}}(this)(function(t){return function(){!function(e){w=new d.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.pick_random_ivs({progress_hook:f},w.defer({assign_fn:function(){return function(){return c=arguments[0]}}(),lineno:431})),w._fulfill()}(function(){a=h.from_buffer(o),function(e){w=new d.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.run_salsa20({input:a,key:t.keys.salsa20,progress_hook:f,iv:c.salsa20,output_iv:!0},s(w.defer({assign_fn:function(){return function(){return n=arguments[0]}}(),lineno:433}))),w._fulfill()}(function(){!function(e){w=new d.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.run_twofish({input:n,key:t.keys.twofish,progress_hook:f,iv:c.twofish},s(w.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:434}))),w._fulfill()}(function(){!function(e){w=new d.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.run_aes({input:r,key:t.keys.aes,progress_hook:f,iv:c.aes},s(w.defer({assign_fn:function(){return function(){return i=arguments[0]}}(),lineno:435}))),w._fulfill()}(function(){!function(e){w=new d.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.sign({input:i,key:t.keys.hmac,progress_hook:f,salt:t.salt},s(w.defer({assign_fn:function(){return function(){return _=arguments[0]}}(),lineno:436}))),w._fulfill()}(function(){return l=new h(t.version.header).concat(t.salt).concat(_).concat(i).to_buffer(),m.scrub_buffer(o),e(null,l)})})})})})}}(this))},n.prototype.clone=function(){var t,e,r;return t=new n({key:null!=(e=this.key)?e.to_buffer():void 0,rng:this.rng,version:null!=(r=this.version)?r.version:void 0}),t.derived_keys=this.clone_derived_keys(),t},n}(r),y=function(t,e){var n,r,i,o,u,c,f,a,l,h;l=d.findDeferral(arguments),o=t.key,n=t.data,f=t.rng,u=t.progress_hook,a=t.version,r=new s({key:o,rng:f,version:a}),function(t){return function(t){h=new d.Deferrals(t,{parent:l,filename:"/Users/max/src/keybase/triplesec/src/enc.iced"}),r.run({data:n,progress_hook:u},h.defer({assign_fn:function(){return function(){return i=arguments[0],c=arguments[1]}}(),lineno:475})),h._fulfill()}}()(function(t){return function(){return r.scrub(),e(i,c)}}())},n.V=l,n.encrypt=y,n.Base=r,n.Encryptor=s}).call(this)},{"./aes":23,"./combine":25,"./ctr":26,"./hmac":30,"./pbkdf2":33,"./prng":34,"./salsa20":36,"./scrypt":37,"./sha512":43,"./twofish":44,"./util":45,"./wordarray":46,"iced-error":3,"iced-runtime":7}],30:[function(t,e,n){(function(){var e,r,i,o,s,u,c,f={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};s=t("iced-runtime"),i=t("./sha512").SHA512,r=t("./sha256").SHA256,c=t("./util"),e=function(){function t(t,e){var n,r,o;for(null==e&&(e=i),this.key=t.clone(),this.hasher=new e,this.hasherBlockSize=this.hasher.blockSize,this.hasherBlockSizeBytes=4*this.hasherBlockSize,this.key.sigBytes>this.hasherBlockSizeBytes&&(this.key=this.hasher.finalize(this.key)),this.key.clamp(),this._oKey=this.key.clone(),this._iKey=this.key.clone(),n=r=0,o=this.hasherBlockSize;0<=o?r<o:r>o;n=0<=o?++r:--r)this._oKey.words[n]^=1549556828,this._iKey.words[n]^=909522486;this._oKey.sigBytes=this._iKey.sigBytes=this.hasherBlockSizeBytes,this.reset()}return t.outputSize=64,t.prototype.outputSize=t.outputSize,t.prototype.get_output_size=function(){return this.hasher.output_size},t.prototype.reset=function(){return this.hasher.reset().update(this._iKey)},t.prototype.update=function(t){return this.hasher.update(t),this},t.prototype.finalize=function(t){var e,n,r;return e=this.hasher.finalize(t),this.hasher.reset(),n=this._oKey.clone().concat(e),r=this.hasher.finalize(n),e.scrub(),n.scrub(),r},t.prototype.scrub=function(){return this.key.scrub(),this._iKey.scrub(),this._oKey.scrub()},t}(),u=function(t){var n,r,i,o,s;return o=t.key,i=t.input,r=t.hash_class,n=new e(o,r),s=n.finalize(i.clamp()),n.scrub(),s},o=function(t,n){var r,i,o,u,f,a,l,h,p,_;p=s.findDeferral(arguments),o=t.key,i=t.input,f=t.progress_hook,u=t.klass,h=t.what,u||(u=e),h||(h="hmac_sha512"),r=new u(o),i.clamp(),l={update:function(t,e){return r.update(i.slice(t,e))},finalize:function(){return r.finalize()},default_n:1e3*r.hasherBlockSize},function(t){return function(t){_=new s.Deferrals(t,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/hmac.iced"}),c.bulk(i.sigBytes,l,{what:h,progress_hook:f,cb:_.defer({assign_fn:function(){return function(){return a=arguments[0]}}(),lineno:137})}),_._fulfill()}}()(function(t){return function(){return r.scrub(),n(a)}}())},n.HMAC_SHA256=function(t){function e(t){e.__super__.constructor.call(this,t,r)}return a(e,t),e}(e),n.HMAC=e,n.sign=u,n.bulk_sign=o}).call(this)},{"./sha256":40,"./sha512":43,"./util":45,"iced-runtime":7}],31:[function(t,e,n){(function(e){(function(){var r,i,o,s,u;s=t("./enc");for(i in s)o=s[i],n[i]=o;u=t("./dec");for(i in u)o=u[i],n[i]=o;n.prng=t("./prng"),n.Buffer=e,n.WordArray=t("./wordarray").WordArray,n.util=t("./util"),n.ciphers={AES:t("./aes").AES,TwoFish:t("./twofish").TwoFish,Salsa20:t("./salsa20").Salsa20},n.hash={SHA1:t("./sha1").SHA1,SHA224:t("./sha224").SHA224,SHA256:t("./sha256").SHA256,SHA384:t("./sha384").SHA384,SHA512:t("./sha512").SHA512,SHA3:t("./sha3").SHA3,MD5:t("./md5").MD5,RIPEMD160:t("./ripemd160").RIPEMD160},n.modes={CTR:t("./ctr")},n.scrypt=t("./scrypt").scrypt,n.pbkdf2=t("./pbkdf2").pbkdf2,n.hmac=r=t("./hmac"),n.HMAC_SHA256=r.HMAC_SHA256,n.HMAC=r.HMAC}).call(this)}).call(this,t("buffer").Buffer)},{"./aes":23,"./ctr":26,"./dec":27,"./enc":29,"./hmac":30,"./md5":32,"./pbkdf2":33,"./prng":34,"./ripemd160":35,"./salsa20":36,"./scrypt":37,"./sha1":38,"./sha224":39,"./sha256":40,"./sha3":41,"./sha384":42,"./sha512":43,"./twofish":44,"./util":45,"./wordarray":46,buffer:2}],32:[function(t,e,n){(function(){var e,r,i,o,s,u,c,f,a,l={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};f=t("./wordarray").WordArray,s=t("./algbase").Hasher,i=function(){function t(){var t;this.T=function(){var e,n;for(n=[],t=e=0;e<64;t=++e)n.push(4294967296*Math.abs(Math.sin(t+1))|0);return n}()}return t}(),a=new i,n.MD5=c=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return h(n,t),n.blockSize=16,n.prototype.blockSize=n.blockSize,n.output_size=16,n.prototype.output_size=n.output_size,n.prototype._doReset=function(){return this._hash=new f([1732584193,4023233417,2562383102,271733878])},n.prototype._doProcessBlock=function(t,n){var i,s,c,f,l,h,p,_,y,d,g,w,v,m,b,k,S,B,P,D,E,A,x,z,T;for(x=T=0;T<16;x=++T)z=n+x,B=t[z],t[z]=16711935&(B<<8|B>>>24)|4278255360&(B<<24|B>>>8);return i=this._hash.words,s=t[n+0],c=t[n+1],d=t[n+2],g=t[n+3],w=t[n+4],v=t[n+5],m=t[n+6],b=t[n+7],k=t[n+8],S=t[n+9],f=t[n+10],l=t[n+11],h=t[n+12],p=t[n+13],_=t[n+14],y=t[n+15],P=i[0],D=i[1],E=i[2],A=i[3],P=e(P,D,E,A,s,7,a.T[0]),A=e(A,P,D,E,c,12,a.T[1]),E=e(E,A,P,D,d,17,a.T[2]),D=e(D,E,A,P,g,22,a.T[3]),P=e(P,D,E,A,w,7,a.T[4]),A=e(A,P,D,E,v,12,a.T[5]),E=e(E,A,P,D,m,17,a.T[6]),D=e(D,E,A,P,b,22,a.T[7]),P=e(P,D,E,A,k,7,a.T[8]),A=e(A,P,D,E,S,12,a.T[9]),E=e(E,A,P,D,f,17,a.T[10]),D=e(D,E,A,P,l,22,a.T[11]),P=e(P,D,E,A,h,7,a.T[12]),A=e(A,P,D,E,p,12,a.T[13]),E=e(E,A,P,D,_,17,a.T[14]),D=e(D,E,A,P,y,22,a.T[15]),P=r(P,D,E,A,c,5,a.T[16]),A=r(A,P,D,E,m,9,a.T[17]),E=r(E,A,P,D,l,14,a.T[18]),D=r(D,E,A,P,s,20,a.T[19]),P=r(P,D,E,A,v,5,a.T[20]),A=r(A,P,D,E,f,9,a.T[21]),E=r(E,A,P,D,y,14,a.T[22]),D=r(D,E,A,P,w,20,a.T[23]),P=r(P,D,E,A,S,5,a.T[24]),A=r(A,P,D,E,_,9,a.T[25]),E=r(E,A,P,D,g,14,a.T[26]),D=r(D,E,A,P,k,20,a.T[27]),P=r(P,D,E,A,p,5,a.T[28]),A=r(A,P,D,E,d,9,a.T[29]),E=r(E,A,P,D,b,14,a.T[30]),D=r(D,E,A,P,h,20,a.T[31]),P=o(P,D,E,A,v,4,a.T[32]),A=o(A,P,D,E,k,11,a.T[33]),E=o(E,A,P,D,l,16,a.T[34]),D=o(D,E,A,P,_,23,a.T[35]),P=o(P,D,E,A,c,4,a.T[36]),A=o(A,P,D,E,w,11,a.T[37]),E=o(E,A,P,D,b,16,a.T[38]),D=o(D,E,A,P,f,23,a.T[39]),P=o(P,D,E,A,p,4,a.T[40]),A=o(A,P,D,E,s,11,a.T[41]),E=o(E,A,P,D,g,16,a.T[42]),D=o(D,E,A,P,m,23,a.T[43]),P=o(P,D,E,A,S,4,a.T[44]),A=o(A,P,D,E,h,11,a.T[45]),E=o(E,A,P,D,y,16,a.T[46]),D=o(D,E,A,P,d,23,a.T[47]),P=u(P,D,E,A,s,6,a.T[48]),A=u(A,P,D,E,b,10,a.T[49]),E=u(E,A,P,D,_,15,a.T[50]),D=u(D,E,A,P,v,21,a.T[51]),P=u(P,D,E,A,h,6,a.T[52]),A=u(A,P,D,E,g,10,a.T[53]),E=u(E,A,P,D,f,15,a.T[54]),D=u(D,E,A,P,c,21,a.T[55]),P=u(P,D,E,A,k,6,a.T[56]),A=u(A,P,D,E,y,10,a.T[57]),E=u(E,A,P,D,m,15,a.T[58]),D=u(D,E,A,P,p,21,a.T[59]),P=u(P,D,E,A,w,6,a.T[60]),A=u(A,P,D,E,l,10,a.T[61]),E=u(E,A,P,D,d,15,a.T[62]),D=u(D,E,A,P,S,21,a.T[63]),i[0]=i[0]+P|0,i[1]=i[1]+D|0,i[2]=i[2]+E|0,i[3]=i[3]+A|0},n.prototype._doFinalize=function(){var t,e,n,r,i,o,s,u,c,f,a;for(n=this._data,r=n.words,u=8*this._nDataBytes,s=8*n.sigBytes,r[s>>>5]|=128<<24-s%32,c=Math.floor(u/4294967296),f=u,r[15+(s+64>>>9<<4)]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),r[14+(s+64>>>9<<4)]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),n.sigBytes=4*(r.length+1),this._process(),i=this._hash,t=i.words,o=a=0;a<4;o=++a)e=t[o],t[o]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8);return i},n.prototype.copy_to=function(t){return n.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},n.prototype.clone=function(){var t;return t=new n,this.copy_to(t),t},n}(s),e=function(t,e,n,r,i,o,s){var u;return((u=t+(e&n|~e&r)+i+s)<<o|u>>>32-o)+e},r=function(t,e,n,r,i,o,s){var u;return((u=t+(e&r|n&~r)+i+s)<<o|u>>>32-o)+e},o=function(t,e,n,r,i,o,s){var u;return((u=t+(e^n^r)+i+s)<<o|u>>>32-o)+e},u=function(t,e,n,r,i,o,s){var u;return((u=t+(n^(e|~r))+i+s)<<o|u>>>32-o)+e},n.transform=function(t){var e;return e=(new c).finalize(t),t.scrub(),e}}).call(this)},{"./algbase":24,"./wordarray":46}],33:[function(t,e,n){(function(){var e,r,i,o,s,u;o=t("iced-runtime"),e=t("./hmac").HMAC,i=t("./wordarray").WordArray,u=t("./util"),r=function(){function t(t){this.klass=t.klass,this.c=t.c,this.c||(this.c=1024),this.klass||(this.klass=e)}return t.prototype._PRF=function(t){return this.prf.reset(),this.prf.finalize(t)},t.prototype._gen_T_i=function(t,e){var n,r,s,c,f,a,l,h,p;h=o.findDeferral(arguments),f=t.salt,r=t.i,s=t.progress_hook,s(0),a=f.clone().concat(new i([r])),n=this._PRF(a),c=n.clone(),r=1,function(t){return function(e){var i;(i=function(e){var f,a,_;if(f=e,a=function(){return o.trampoline(function(){return i(e)})},_=a,!(r<t.c))return f();for(l=Math.min(t.c,r+128);r<l;)n=t._PRF(n),c.xor(n,{}),r++;s(r),function(t){p=new o.Deferrals(t,{parent:h,filename:"/Users/max/src/keybase/triplesec/src/pbkdf2.iced",funcname:"PBKDF2._gen_T_i"}),u.default_delay(0,0,p.defer({lineno:57})),p._fulfill()}(function(){return _(null)})})(e)}}(this)(function(t){return function(){return s(r),e(c)}}())},t.prototype.run=function(t,e){var n,r,s,u,c,f,a,l,h,p,_,y,d,g,w,v;y=o.findDeferral(arguments),c=t.key,h=t.salt,r=t.dkLen,l=t.progress_hook,this.prf=new this.klass(c),n=this.prf.get_output_size(),f=Math.ceil(r/n),_=[],a=function(t){return function(e){return function(n){return"function"==typeof l?l({what:"pbkdf2",total:f*t.c,i:e*t.c+n}):void 0}}}(this),a(0)(0),function(t){
return function(e){var n;u=1,g=1,w=f,v=w>g,(n=function(e){var r,i,s;if(r=e,i=function(){return o.trampoline(function(){return v?u+=1:u-=1,n(e)})},s=i,!0===v&&u>f||!1===v&&u<f)return r();!function(e){d=new o.Deferrals(e,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/pbkdf2.iced",funcname:"PBKDF2.run"}),t._gen_T_i({salt:h,i:u,progress_hook:a(u-1)},d.defer({assign_fn:function(){return function(){return p=arguments[0]}}(),lineno:80})),d._fulfill()}(function(){return s(_.push(p.words))})})(e)}}(this)(function(t){return function(){var n;return a(f)(0),s=(n=[]).concat.apply(n,_),c.scrub(),t.prf.scrub(),t.prf=null,e(new i(s,r))}}(this))},t}(),s=function(t,e){var n,i,s,u,c,f,a,l,h,p;h=o.findDeferral(arguments),u=t.key,l=t.salt,c=t.klass,n=t.c,i=t.dkLen,a=t.progress_hook,s=new r({klass:c,c:n}),function(t){return function(t){p=new o.Deferrals(t,{parent:h,filename:"/Users/max/src/keybase/triplesec/src/pbkdf2.iced"}),s.run({key:u,salt:l,dkLen:i,progress_hook:a},p.defer({assign_fn:function(){return function(){return f=arguments[0]}}(),lineno:106})),p._fulfill()}}()(function(t){return function(){return e(f)}}())},n.pbkdf2=s,n.PBKDF2=r}).call(this)},{"./hmac":30,"./util":45,"./wordarray":46,"iced-runtime":7}],34:[function(t,e,n){(function(e){(function(){var r,i,o,s,u,c,f,a,l,h,p,_,y,d,g,w,v;if(f=t("iced-runtime"),function(){},l=t("more-entropy"),r=t("./drbg").ADRBG,o=t("./wordarray").WordArray,s=t("./combine").XOR,_=t("./util"),y=null,u=function(t){var n;return n=new Uint8Array(t),y(n),new e(n)},null!=(y=null!=(a="undefined"!=typeof window&&null!==window&&null!=(w=window.crypto)?w.getRandomValues:void 0)?a.bind(window.crypto):null!=(a="undefined"!=typeof window&&null!==window&&null!=(v=window.msCrypto)?v.getRandomValues:void 0)?a.bind(window.msCrypto):null))d=u;else try{p=t("crypto").rng,null!=p&&(d=p)}catch(t){t}h=function(t){if(null==d)throw new Error('No rng found; tried requiring "crypto" and window.crypto');return d(t)},i=function(){function t(){this.meg=new l.Generator,this.adrbg=new r(function(t){return function(e,n){return t.gen_seed(e,n)}}(this),s.sign)}return t.prototype.now_to_buffer=function(){var t,n,r,i;return n=Date.now(),r=n%1e3,i=Math.floor(n/1e3),t=new e(8),t.writeUInt32BE(i,0),t.writeUInt32BE(r,4),t},t.prototype.gen_seed=function(t,n){var r,i,s,u,c,a,l,p;l=f.findDeferral(arguments),u=t/8,i=[],i.push(this.now_to_buffer()),function(e){return function(n){p=new f.Deferrals(n,{parent:l,filename:"/Users/max/src/keybase/triplesec/src/prng.iced",funcname:"PRNG.gen_seed"}),e.meg.generate(t,p.defer({assign_fn:function(){return function(){return a=arguments[0]}}(),lineno:83})),p._fulfill()}}(this)(function(t){return function(){var f,l;for(i.push(t.now_to_buffer()),i.push(new e(a)),i.push(h(u)),i.push(t.now_to_buffer()),s=e.concat(i),c=o.from_buffer(s),_.scrub_buffer(s),f=0,l=i.length;f<l;f++)r=i[f],_.scrub_buffer(r);return n(c)}}(this))},t.prototype.generate=function(t,e){return this.adrbg.generate(t,e)},t}(),g=null,c=function(t,e){return null==g&&(g=new i),g.generate(t,e)},n.PRNG=i,n.generate=c,n.native_rng=h}).call(this)}).call(this,t("buffer").Buffer)},{"./combine":25,"./drbg":28,"./util":45,"./wordarray":46,buffer:2,"iced-runtime":7,"more-entropy":12}],35:[function(t,e,n){(function(){var e,r,i,o,s,u,c,f,a,l,h,p,_,y={}.hasOwnProperty,d=function(t,e){function n(){this.constructor=t}for(var r in e)y.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};_=t("./wordarray"),s=_.WordArray,_.X64Word,_.X64WordArray,i=t("./algbase").Hasher,r=function(){function t(){this._zl=new s([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),this._zr=new s([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),this._sl=new s([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),this._sr=new s([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),this._hl=new s([0,1518500249,1859775393,2400959708,2840853838]),this._hr=new s([1352829926,1548603684,1836072691,2053994217,0])}return t}(),e=new r,o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return d(n,t),n.blockSize=16,n.prototype.blockSize=n.blockSize,n.output_size=20,n.prototype.output_size=n.output_size,n.prototype._doReset=function(){return this._hash=new s([1732584193,4023233417,2562383102,271733878,3285377520])},n.prototype.get_output_size=function(){return this.output_size},n.prototype._doProcessBlock=function(t,n){var r,i,o,s,p,_,y,d,g,w,v,m,b,k,S,B,P,D,E,A,x,z,T;for(S=z=0;z<16;S=++z)B=n+S,i=t[B],t[B]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);for(r=this._hash.words,b=e._hl.words,k=e._hr.words,A=e._zl.words,x=e._zr.words,P=e._sl.words,D=e._sr.words,s=o=r[0],_=p=r[1],d=y=r[2],w=g=r[3],m=v=r[4],S=T=0;T<80;S=++T)E=o+t[n+A[S]]|0,E+=S<16?u(p,y,g)+b[0]:S<32?c(p,y,g)+b[1]:S<48?f(p,y,g)+b[2]:S<64?a(p,y,g)+b[3]:l(p,y,g)+b[4],E|=0,E=h(E,P[S]),E=E+v|0,o=v,v=g,g=h(y,10),y=p,p=E,E=s+t[n+x[S]]|0,E+=S<16?l(_,d,w)+k[0]:S<32?a(_,d,w)+k[1]:S<48?f(_,d,w)+k[2]:S<64?c(_,d,w)+k[3]:u(_,d,w)+k[4],E|=0,E=h(E,D[S]),E=E+m|0,s=m,m=w,w=h(d,10),d=_,_=E;return E=r[1]+y+w|0,r[1]=r[2]+g+m|0,r[2]=r[3]+v+s|0,r[3]=r[4]+o+_|0,r[4]=r[0]+p+d|0,r[0]=E},n.prototype._doFinalize=function(){var t,e,n,r,i,o,s,u,c;for(n=this._data,r=n.words,u=8*this._nDataBytes,s=8*n.sigBytes,r[s>>>5]|=128<<24-s%32,r[14+(s+64>>>9<<4)]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),n.sigBytes=4*(r.length+1),this._process(),i=this._hash,t=i.words,o=c=0;c<5;o=++c)e=t[o],t[o]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8);return i},n.prototype.scrub=function(){return this._hash.scrub()},n.prototype.copy_to=function(t){return n.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},n.prototype.clone=function(){var t;return t=new n,this.copy_to(t),t},n}(i),u=function(t,e,n){return t^e^n},c=function(t,e,n){return t&e|~t&n},f=function(t,e,n){return(t|~e)^n},a=function(t,e,n){return t&n|e&~n},l=function(t,e,n){return t^(e|~n)},h=function(t,e){return t<<e|t>>>32-e},p=function(t){var e;return e=(new o).finalize(t),t.scrub(),e},n.RIPEMD160=o,n.transform=p}).call(this)},{"./algbase":24,"./wordarray":46}],36:[function(t,e,n){(function(e){(function(){var r,i,o,s,u,c,f,a,l,h,p,_,y,d={}.hasOwnProperty,g=function(t,e){function n(){this.constructor=t}for(var r in e)d.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};p=t("iced-runtime"),y=t("./wordarray"),l=y.endian_reverse,f=y.WordArray,i=t("./ctr").Counter,h=t("./util").fixup_uint32,c=t("./algbase").StreamCipher,_=t("./util"),a=function(t,e){var n,r,i,o;for(r=i=0,o=e.length;i<o;r=++i)n=e[r],t[r]+=n;return!1},s=function(){function t(t){this.rounds=t}return t.prototype._core=function(t){"use asm";var e,n,r,i,o,s,u,c,f,a,l,h,p,_,y,d,g,w,v,m;r=t[0],i=t[1],l=t[2],h=t[3],p=t[4],_=t[5],y=t[6],d=t[7],g=t[8],w=t[9],o=t[10],s=t[11],u=t[12],c=t[13],f=t[14],a=t[15];for(e=v=0,m=this.rounds;v<m;e=v+=2){n=r+u|0;p^=n<<7|n>>>25;n=p+r|0;g^=n<<9|n>>>23;n=g+p|0;u^=n<<13|n>>>19;n=u+g|0;r^=n<<18|n>>>14;n=_+i|0;w^=n<<7|n>>>25;n=w+_|0;c^=n<<9|n>>>23;n=c+w|0;i^=n<<13|n>>>19;n=i+c|0;_^=n<<18|n>>>14;n=o+y|0;f^=n<<7|n>>>25;n=f+o|0;l^=n<<9|n>>>23;n=l+f|0;y^=n<<13|n>>>19;n=y+l|0;o^=n<<18|n>>>14;n=a+s|0;h^=n<<7|n>>>25;n=h+a|0;d^=n<<9|n>>>23;n=d+h|0;s^=n<<13|n>>>19;n=s+d|0;a^=n<<18|n>>>14;n=r+h|0;i^=n<<7|n>>>25;n=i+r|0;l^=n<<9|n>>>23;n=l+i|0;h^=n<<13|n>>>19;n=h+l|0;r^=n<<18|n>>>14;n=_+p|0;y^=n<<7|n>>>25;n=y+_|0;d^=n<<9|n>>>23;n=d+y|0;p^=n<<13|n>>>19;n=p+d|0;_^=n<<18|n>>>14;n=o+w|0;s^=n<<7|n>>>25;n=s+o|0;g^=n<<9|n>>>23;n=g+s|0;w^=n<<13|n>>>19;n=w+g|0;o^=n<<18|n>>>14;n=a+f|0;u^=n<<7|n>>>25;n=u+a|0;c^=n<<9|n>>>23;n=c+u|0;f^=n<<13|n>>>19;n=f+c|0;a^=n<<18|n>>>14}return[r,i,l,h,p,_,y,d,g,w,o,s,u,c,f,a]},t}(),o=function(t){function n(t,e){var r;if(n.__super__.constructor.call(this,20),this.key=t.clone().endian_reverse(),this.nonce=e.clone().endian_reverse(),(16!==this.key.sigBytes||8!==this.nonce.sigBytes)&&(32!==this.key.sigBytes||8!==(r=this.nonce.sigBytes)&&24!==r))throw new Error("Bad key/nonce lengths");24===this.nonce.sigBytes&&this.xsalsa_setup(),this.input=this.key_iv_setup(this.nonce,this.key),this._reset()}return g(n,t),n.prototype.sigma=f.from_buffer_le(new e("expand 32-byte k")),n.prototype.tau=f.from_buffer_le(new e("expand 16-byte k")),n.blockSize=64,n.prototype.blockSize=n.blockSize,n.keySize=32,n.prototype.keySize=n.keySize,n.ivSize=24,n.prototype.ivSize=n.ivSize,n.prototype.scrub=function(){return this.key.scrub(),this.nonce.scrub(),_.scrub_vec(this.input)},n.prototype.xsalsa_setup=function(){var t;return t=new f(this.nonce.words.slice(0,4)),this.nonce=new f(this.nonce.words.slice(4)),this.key=this.hsalsa20(t,this.key)},n.prototype.hsalsa20=function(t,e){var n,r,i,o;return i=this.key_iv_setup(t,e),i[8]=t.words[2],i[9]=t.words[3],o=this._core(i),r=[0,5,10,15,6,7,8,9],o=function(){var t,e,i;for(i=[],t=0,e=r.length;t<e;t++)n=r[t],i.push(h(o[n]));return i}(),_.scrub_vec(i),new f(o)},n.prototype.key_iv_setup=function(t,e){var n,r,i,o,s,u,c,f;for(o=[],i=s=0;s<4;i=++s)o[i+1]=e.words[i];for(f=32===e.sigBytes?[this.sigma,e.words.slice(4)]:[this.tau,e.words],r=f[0],n=f[1],i=u=0;u<4;i=++u)o[i+11]=n[i];for(i=c=0;c<4;i=++c)o[5*i]=r.words[i];return o[6]=t.words[0],o[7]=t.words[1],o},n.prototype.counter_setup=function(){return this.input[8]=this.counter.get().words[0],this.input[9]=this.counter.get().words[1]},n.prototype._reset=function(){return this.counter=new i({len:2})},n.prototype._generateBlock=function(){var t;return this.counter_setup(),t=this._core(this.input),a(t,this.input),this.counter.inc_le(),t},n}(s),n.Salsa20WordStream=u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return g(e,t),e.prototype._reset=function(){return e.__super__._reset.call(this)},e.prototype.getWordArray=function(t){var e,n,r,i,o,s,u,c;for(null==t||t===this.blockSize?o=this._generateBlock():(r=Math.ceil(t/this.blockSize),e=function(){var t,e;for(e=[],n=t=0;0<=r?t<r:t>r;n=0<=r?++t:--t)e.push(this._generateBlock());return e}.call(this),o=(c=[]).concat.apply(c,e)),n=s=0,u=o.length;s<u;n=++s)i=o[n],o[n]=l(i);return new f(o,t)},e}(o),n.Salsa20=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return g(n,t),n.prototype._reset=function(){return n.__super__._reset.call(this),this._i=this.blockSize},n.prototype.getBytes=function(t){var n,r,i;if(null==t&&(t=this.blockSize),i=[],n=this.blockSize,this._i===n&&t===n)return this._generateBlockBuffer();for(;t>0;)this._i===n&&(this._generateBlockBuffer(),this._i=0),r=Math.min(t,n-this._i),i.push(r===n?this._buf:this._buf.slice(this._i,this._i+r)),this._i+=r,t-=r;return e.concat(i)},n.prototype._generateBlockBuffer=function(){var t,n,r,i,o;for(this._buf=new e(this.blockSize),r=this._generateBlock(),n=i=0,o=r.length;i<o;n=++i)t=r[n],this._buf.writeUInt32LE(h(t),4*n);return this._buf},n}(o),n.Cipher=r=function(t){function e(t){var n,r;r=t.key,n=t.iv,e.__super__.constructor.call(this),this.salsa=new u(r,n),this.bsiw=this.salsa.blockSize/4}return g(e,t),e.prototype.scrub=function(){return this.salsa.scrub()},e.prototype.get_pad=function(){return this.salsa.getWordArray()},e}(c),n.encrypt=function(t){var e,n,i,o,s;return o=t.key,i=t.iv,n=t.input,e=new r({key:o,iv:i}),s=e.encrypt(n),e.scrub(),s},n.bulk_encrypt=function(t,e){var n,i,o,s,u,c,f,a;f=p.findDeferral(arguments),s=t.key,o=t.iv,i=t.input,u=t.progress_hook,n=new r({key:s,iv:o}),function(t){return function(t){a=new p.Deferrals(t,{parent:f,filename:"/Users/max/src/keybase/triplesec/src/salsa20.iced"}),n.bulk_encrypt({input:i,progress_hook:u,what:"salsa20"},a.defer({assign_fn:function(){return function(){return c=arguments[0]}}(),lineno:257})),a._fulfill()}}()(function(t){return function(){return n.scrub(),e(c)}}())},n.Salsa20InnerCore=s,n.endian_reverse=l,n.asum=a}).call(this)}).call(this,t("buffer").Buffer)},{"./algbase":24,"./ctr":26,"./util":45,"./wordarray":46,buffer:2,"iced-runtime":7}],37:[function(t,e,n){(function(){var e,r,i,o,s,u,c,f,a,l,h,p,_,y,d,g,w,v;h=t("iced-runtime"),e=t("./hmac").HMAC_SHA256,p=t("./pbkdf2").pbkdf2,g=t("./salsa20"),a=g.endian_reverse,r=g.Salsa20InnerCore,w=t("./wordarray"),w.ui8a_to_buffer,s=w.WordArray,v=t("./util"),l=v.fixup_uint32,f=v.default_delay,_=v.scrub_vec,o=function(){function t(){this.tot=0}return t.prototype.start=function(){return this._t=Date.now()},t.prototype.stop=function(){return this.tot+=Date.now()-this._t},t}(),new o,u=function(t,e,n,r,i){"use asm";var o,s,u;u=n<<4|0;s=r<<4|0;o=s+(i<<4)|0;while(s<o){t[u]=e[s];t[u+1]=e[s+1];t[u+2]=e[s+2];t[u+3]=e[s+3];t[u+4]=e[s+4];t[u+5]=e[s+5];t[u+6]=e[s+6];t[u+7]=e[s+7];t[u+8]=e[s+8];t[u+9]=e[s+9];t[u+10]=e[s+10];t[u+11]=e[s+11];t[u+12]=e[s+12];t[u+13]=e[s+13];t[u+14]=e[s+14];t[u+15]=e[s+15];s+=16;u+=16}return true},c=function(t,e,n,r){"use asm";var i,o;r=r<<4|0;i=0;o=n<<4|0;while(i<r){t[i]^=e[o];t[i+1]^=e[o+1];t[i+2]^=e[o+2];t[i+3]^=e[o+3];t[i+4]^=e[o+4];t[i+5]^=e[o+5];t[i+6]^=e[o+6];t[i+7]^=e[o+7];t[i+8]^=e[o+8];t[i+9]^=e[o+9];t[i+10]^=e[o+10];t[i+11]^=e[o+11];t[i+12]^=e[o+12];t[i+13]^=e[o+13];t[i+14]^=e[o+14];t[i+15]^=e[o+15];i+=16;o+=16}return true},d=function(t){var e,n,r,i;for(n=r=0,i=t.length;r<i;n=++r)e=t[n],t[n]=a(e);return!0},i=function(){function t(t){var n,i,o,s;n=t.N,this.r=t.r,this.p=t.p,i=t.c,o=t.c0,s=t.c1,this.klass=t.klass,this.N||(this.N=1<<(n||15)),this.r||(this.r=8),this.p||(this.p=1),this.c0=o||i||1,this.c1=s||i||1,this.klass||(this.klass=e),this.X16_tmp=new Int32Array(16),this.s20ic=new r(8)}return t.prototype.salsa20_8=function(t){var e,n,r,i,o;for(e=this.s20ic._core(t),n=i=0,o=e.length;i<o;n=++i)r=e[n],t[n]+=r;return!0},t.prototype.pbkdf2=function(t,e){var n,r,i,o,s,u,c,f;c=h.findDeferral(arguments),i=t.key,s=t.salt,r=t.dkLen,o=t.progress_hook,n=t.c,function(t){return function(e){f=new h.Deferrals(e,{parent:c,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.pbkdf2"}),p({key:i,salt:s,c:n,dkLen:r,klass:t.klass,progress_hook:o},f.defer({assign_fn:function(){return function(){return u=arguments[0]}}(),lineno:113})),f._fulfill()}}(this)(function(t){return function(){return e(u)}}())},t.prototype.blockmix_salsa8=function(t,e){var n,r,i,o;for(n=this.X16_tmp,u(n,t,0,2*this.r-1,1),r=i=0,o=2*this.r;0<=o?i<o:i>o;r=0<=o?++i:--i)c(n,t,r,1),this.salsa20_8(n),u(e,n,r,0,1);for(r=0;r<this.r;)u(t,e,r,2*r,1),r++;for(r=0;r<this.r;)u(t,e,r+this.r,2*r+1,1),r++;return!0},t.prototype.smix=function(t,e){var n,r,i,o,s,a,p,_,y,d,g,w;g=h.findDeferral(arguments),n=t.B,r=t.V,o=t.XY,y=t.progress_hook,i=o,_=2*this.r,s=o.subarray(16*_),u(i,n,0,0,_),a=0,function(t){return function(e){var n;(n=function(e){var o,c,l;if(o=e,c=function(){return h.trampoline(function(){return n(e)})},l=c,!(a<t.N))return o();for(d=Math.min(t.N,a+2048);a<d;)u(r,i,_*a,0,_),t.blockmix_salsa8(i,s),a++;"function"==typeof y&&y(a),function(t){w=new h.Deferrals(t,{parent:g,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.smix"}),f(0,0,w.defer({lineno:170})),w._fulfill()}(l)})(e)}}(this)(function(t){return function(){a=0,function(e){var n;(n=function(e){var o,u,v;if(o=e,u=function(){return h.trampoline(function(){return n(e)})},v=u,!(a<t.N))return o();for(d=Math.min(t.N,a+256);a<d;)p=l(i[16*(_-1)])&t.N-1,c(i,r,p*_,_),t.blockmix_salsa8(i,s),a++;"function"==typeof y&&y(a+t.N),function(t){w=new h.Deferrals(t,{parent:g,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.smix"}),f(0,0,w.defer({lineno:187})),w._fulfill()}(v)})(e)}(function(){return u(n,i,0,0,_),e()})}}(this))},t.prototype.run=function(t,e){var n,r,i,o,u,c,f,a,l,p,y,g,w,v,m,b;g=h.findDeferral(arguments),f=t.key,y=t.salt,u=t.dkLen,p=t.progress_hook,r=4294967295,u>r?new Error("asked for too much data"):this.r*this.p>=1<<30?new Error("r & p are too big"):(this.r>r/128/this.p||this.r>r/256||this.N>r/128/this.r)&&new Error("N is too big"),o=new Int32Array(64*this.r),i=new Int32Array(32*this.r*this.N),a=function(t){return t.what+=" (pass 1)","function"==typeof p?p(t):void 0},function(t){return function(e){w=new h.Deferrals(e,{parent:g,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.run"}),t.pbkdf2({key:f.clone(),salt:y,dkLen:128*t.r*t.p,c:t.c0,progress_hook:a},w.defer({assign_fn:function(){return function(){return n=arguments[0]}}(),lineno:218})),w._fulfill()}}(this)(function(t){return function(){n=new Int32Array(n.words),d(n),a=function(e){return function(n){return"function"==typeof p?p({i:n+e*t.N*2,what:"scrypt",total:t.p*t.N*2}):void 0}},function(e){var r;c=0,v=0,m=t.p,b=m>v,(r=function(e){var s,u,f;if(s=e,u=function(){return h.trampoline(function(){return b?c+=1:c-=1,r(e)})},f=u,!0===b&&c>=t.p||!1===b&&c<=t.p)return s();!function(e){w=new h.Deferrals(e,{parent:g,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.run"}),t.smix({B:n.subarray(32*t.r*c),V:i,XY:o,progress_hook:a(c)},w.defer({lineno:225})),w._fulfill()}(f)})(e)}(function(){d(n),a=function(t){return t.what+=" (pass 2)","function"==typeof p?p(t):void 0},function(e){w=new h.Deferrals(e,{parent:g,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.run"}),t.pbkdf2({key:f,salt:s.from_i32a(n),dkLen:u,c:t.c1,progress_hook:a},w.defer({assign_fn:function(){return function(){return l=arguments[0]}}(),lineno:233})),w._fulfill()}(function(){return _(o),_(i),_(n),f.scrub(),e(l)})})}}(this))},t}(),y=function(t,e){var n,r,o,s,u,c,f,a,l,p,_,y,d,g,w;g=h.findDeferral(arguments),f=t.key,y=t.salt,_=t.r,n=t.N,l=t.p,o=t.c0,s=t.c1,r=t.c,a=t.klass,p=t.progress_hook,u=t.dkLen,c=new i({r:_,N:n,p:l,c:r,c0:o,c1:s,klass:a}),function(t){return function(t){w=new h.Deferrals(t,{parent:g,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced"}),c.run({key:f,salt:y,progress_hook:p,dkLen:u},w.defer({assign_fn:function(){return function(){return d=arguments[0]}}(),lineno:263})),w._fulfill()}}()(function(t){return function(){return e(d)}}())},n.Scrypt=i,n.scrypt=y,n.v_endian_reverse=d}).call(this)},{"./hmac":30,"./pbkdf2":33,"./salsa20":36,"./util":45,"./wordarray":46,"iced-runtime":7}],38:[function(t,e,n){(function(){var e,r,i,o,s,u={}.hasOwnProperty,c=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=t("./wordarray").WordArray,e=t("./algbase").Hasher,i=[],r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.blockSize=16,e.prototype.blockSize=e.blockSize,e.output_size=20,e.prototype.output_size=e.output_size,e.prototype._doReset=function(){return this._hash=new o([1732584193,4023233417,2562383102,271733878,3285377520])},e.prototype._doProcessBlock=function(t,e){var n,r,o,s,u,c,f,a,l,h;for(n=this._hash.words,r=n[0],o=n[1],s=n[2],u=n[3],c=n[4],f=h=0;h<80;f=++h)f<16?i[f]=0|t[e+f]:(a=i[f-3]^i[f-8]^i[f-14]^i[f-16],i[f]=a<<1|a>>>31),l=(r<<5|r>>>27)+c+i[f],l+=f<20?1518500249+(o&s|~o&u):f<40?1859775393+(o^s^u):f<60?(o&s|o&u|s&u)-1894007588:(o^s^u)-899497514,c=u,u=s,s=o<<30|o>>>2,o=r,r=l;return n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+u|0,n[4]=n[4]+c|0},e.prototype._doFinalize=function(){var t,e,n,r;return t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes,e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},e.prototype.copy_to=function(t){return e.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(e),s=s=function(t){var e;return e=(new r).finalize(t),t.scrub(),e},n.SHA1=r,n.transform=s}).call(this)},{"./algbase":24,"./wordarray":46}],39:[function(t,e,n){(function(){var e,r,i,o,s={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=t("./wordarray").WordArray,r=t("./sha256").SHA256,e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.output_size=28,e.prototype.output_size=e.output_size,e.prototype._doReset=function(){return this._hash=new i([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},e.prototype._doFinalize=function(){var t;return t=e.__super__._doFinalize.call(this),t.sigBytes-=4,t},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(r),o=function(t){var n;return n=(new e).finalize(t),t.scrub(),n},n.SHA224=e,n.transform=o}).call(this)},{"./sha256":40,"./wordarray":46}],40:[function(t,e,n){(function(){var e,r,i,o,s,u,c={}.hasOwnProperty,f=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=t("./wordarray").WordArray,r=t("./algbase").Hasher,e=function(){function t(){this.H=[],this.K=[],this.W=[],this.init()}return t.prototype.isPrime=function(t){var e,n,r;if(2===t||3===t||5===t||7===t)return!0;if(1===t||4===t||6===t||8===t||9===t)return!1;for(n=Math.ceil(Math.sqrt(t)),e=r=2;2<=n?r<=n:r>=n;e=2<=n?++r:--r)if(t%e==0)return!1;return!0},t.prototype.getFractionalBits=function(t){return 4294967296*(t-(0|t))|0},t.prototype.init=function(){var t,e,n;for(t=2,e=0,n=[];e<64;)this.isPrime(t)&&(e<8&&(this.H[e]=this.getFractionalBits(Math.pow(t,.5))),this.K[e]=this.getFractionalBits(Math.pow(t,1/3)),e++),n.push(t++);return n},t}(),s=new e,i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.blockSize=16,e.prototype.blockSize=e.blockSize,e.output_size=32,e.prototype.output_size=e.output_size,e.prototype._doReset=function(){return this._hash=new o(s.H.slice(0))},e.prototype.get_output_size=function(){return this.output_size},e.prototype._doProcessBlock=function(t,e){var n,r,i,o,u,c,f,a,l,h,p,_,y,d,g,w,v,m,b,k,S,B,P;for(n=this._hash.words,i=s.W,r=s.K,o=n[0],u=n[1],c=n[2],a=n[3],l=n[4],h=n[5],p=n[6],w=n[7],v=P=0;P<64;v=++P)v<16?i[v]=0|t[e+v]:(y=i[v-15],_=(y<<25|y>>>7)^(y<<14|y>>>18)^y>>>3,g=i[v-2],d=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10,i[v]=_+i[v-7]+d+i[v-16]),f=l&h^~l&p,m=o&u^o&c^u&c,b=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),k=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),S=w+k+f+r[v]+i[v],B=b+m,w=p,p=h,h=l,l=a+S|0,a=c,c=u,u=o,o=S+B|0;return n[0]=n[0]+o|0,n[1]=n[1]+u|0,n[2]=n[2]+c|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0,n[5]=n[5]+h|0,n[6]=n[6]+p|0,n[7]=n[7]+w|0},e.prototype._doFinalize=function(){var t,e,n,r;return t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes,e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},e.prototype.scrub=function(){return this._hash.scrub()},e.prototype.copy_to=function(t){return e.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(r),u=function(t){var e;return e=(new i).finalize(t),t.scrub(),e},n.SHA256=i,n.transform=u}).call(this)},{"./algbase":24,"./wordarray":46}],41:[function(t,e,n){(function(){var e,r,i,o,s,u,c,f={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};c=t("./wordarray"),o=c.WordArray,s=c.X64Word,c.X64WordArray,r=t("./algbase").Hasher,e=function(){function t(){this.RHO_OFFSETS=[],this.PI_INDEXES=[],this.ROUND_CONSTANTS=[],this.T=[],this.compute_rho_offsets(),this.compute_pi_indexes(),this.compute_round_constants(),this.make_reusables()}return t.prototype.compute_rho_offsets=function(){var t,e,n,r,i,o,s;for(r=1,i=0,s=[],n=o=0;o<24;n=++o)this.RHO_OFFSETS[r+5*i]=(n+1)*(n+2)/2%64,t=i%5,e=(2*r+3*i)%5,r=t,s.push(i=e);return s},t.prototype.compute_pi_indexes=function(){var t,e,n,r;for(r=[],t=n=0;n<5;t=++n)r.push(function(){var n,r;for(r=[],e=n=0;n<5;e=++n)r.push(this.PI_INDEXES[t+5*e]=e+(2*t+3*e)%5*5);return r}.call(this));return r},t.prototype.compute_round_constants=function(){var t,e,n,r,i,o,u,c,f;for(t=1,f=[],n=u=0;u<24;n=++u){for(o=0,i=0,r=c=0;c<7;r=++c)1&t&&(e=(1<<r)-1,e<32?i^=1<<e:o^=1<<e-32),128&t?t=t<<1^113:t<<=1;f.push(this.ROUND_CONSTANTS[n]=new s(o,i))}return f},t.prototype.make_reusables=function(){var t;return this.T=function(){var e,n;for(n=[],t=e=0;e<25;t=++e)n.push(new s(0,0));return n}()},t}(),u=new e,n.SHA3=i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.outputLength=512,e.prototype.outputLength=e.outputLength,e.blockSize=(1600-2*e.outputLength)/32,e.prototype.blockSize=e.blockSize,e.output_size=e.outputLength/8,e.prototype.output_size=e.output_size,e.prototype._doReset=function(){var t;return this._state=function(){var e,n;for(n=[],t=e=0;e<25;t=++e)n.push(new s(0,0));return n}()},e.prototype._doProcessBlock=function(t,e){var n,r,i,o,s,c,f,a,l,h,p,_,y,d,g,w,v,m,b,k,S,B,P,D,E,A,x,z,T,U,R,M,O,I,C,F,N,K;for(n=u,P=this._state,b=this.blockSize/2,d=T=0;0<=b?T<b:T>b;d=0<=b?++T:--T)r=t[e+2*d],i=t[e+2*d+1],r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),g=P[d],g.high^=i,g.low^=r;for(K=[],S=U=0;U<24;S=++U){for(x=R=0;R<5;x=++R){for(A=E=0,z=M=0;M<5;z=++M)g=P[x+5*z],A^=g.high,E^=g.low;f=n.T[x],f.high=A,f.low=E}for(x=O=0;O<5;x=++O)for(y=n.T[(x+4)%5],a=n.T[(x+1)%5],p=a.high,h=a.low,A=y.high^(p<<1|h>>>31),E=y.low^(h<<1|p>>>31),z=I=0;I<5;z=++I)g=P[x+5*z],g.high^=A,g.low^=E;for(w=C=1;C<25;w=++C)g=P[w],m=g.high,v=g.low,k=n.RHO_OFFSETS[w],k<32?(A=m<<k|v>>>32-k,E=v<<k|m>>>32-k):(A=v<<k-32|m>>>64-k,E=m<<k-32|v>>>64-k),c=n.T[n.PI_INDEXES[w]],c.high=A,c.low=E;for(o=n.T[0],D=P[0],o.high=D.high,o.low=D.low,x=F=0;F<5;x=++F)for(z=N=0;N<5;z=++N)w=x+5*z,g=P[w],s=n.T[w],l=n.T[(x+1)%5+5*z],_=n.T[(x+2)%5+5*z],g.high=s.high^~l.high&_.high,g.low=s.low^~l.low&_.low;g=P[0],B=n.ROUND_CONSTANTS[S],g.high^=B.high,K.push(g.low^=B.low)}return K},e.prototype._doFinalize=function(){var t,e,n,r,i,s,u,c,f,a,l,h,p;for(e=this._data,n=e.words,8*this._nDataBytes,f=8*e.sigBytes,t=32*this.blockSize,n[f>>>5]|=1<<24-f%32,n[(Math.ceil((f+1)/t)*t>>>5)-1]|=128,e.sigBytes=4*n.length,this._process(),h=this._state,a=this.outputLength/8,l=a/8,r=[],i=p=0;0<=l?p<l:p>l;i=0<=l?++p:--p)s=h[i],c=s.high,u=s.low,c=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),u=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),r.push(u),r.push(c);return new o(r,a)},e.prototype.copy_to=function(t){var n;return e.__super__.copy_to.call(this,t),t._state=function(){var t,e,r,i;for(r=this._state,i=[],t=0,e=r.length;t<e;t++)n=r[t],i.push(n.clone());return i}.call(this)},e.prototype.scrub=function(){},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(r),n.transform=function(t){var e;return e=(new i).finalize(t),t.scrub(),e}}).call(this)},{"./algbase":24,"./wordarray":46}],42:[function(t,e,n){(function(){var e,r,i,o,s,u,c,f={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};u=t("./wordarray"),o=u.X64WordArray,u.WordArray,c=t("./sha512"),i=c.SHA512,e=c.Global,r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return a(n,t),n.output_size=48,n.prototype.output_size=n.output_size,n.prototype._doReset=function(){return this._hash=new o(e.convert([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]))},n.prototype._doFinalize=function(){var t;return t=n.__super__._doFinalize.call(this),t.sigBytes-=16,t},n.prototype.clone=function(){var t;return t=new n,this.copy_to(t),t},n}(i),s=function(t){var e;return e=(new r).finalize(t),t.scrub(),e},n.SHA384=r,n.transform=s}).call(this)},{"./sha512":43,"./wordarray":46}],43:[function(t,e,n){(function(){var e,r,i,o,s,u,c,f={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};c=t("./wordarray"),o=c.X64Word,s=c.X64WordArray,r=t("./algbase").Hasher,e=function(){function t(){var t;this.K=this.convert([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]),this.I=new s(this.convert([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])),this.W=function(){var e,n;for(n=[],t=e=0;e<80;t=++e)n.push(new o(0,0));return n}()}return t.convert=function(t){var e,n,r,i;for(i=[],e=n=0,r=t.length;n<r;e=n+=2)i.push(new o(t[e],t[e+1]));return i},t.prototype.convert=function(e){return t.convert(e)},t}(),n.Global=e,u=new e,n.SHA512=i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.blockSize=32,e.prototype.blockSize=e.blockSize,e.output_size=64,e.prototype.output_size=e.output_size,e.prototype._doReset=function(){return this._hash=u.I.clone()},e.prototype._doProcessBlock=function(t,e){var n,r,i,o,s,c,f,a,l,h,p,_,y,d,g,w,v,m,b,k,S,B,P,D,E,A,x,z,T,U,R,M,O,I,C,F,N,K,j,L,H,X,W,Y,q,G,V,J,$,Q,Z,tt,et,nt,rt,it,ot,st,ut,ct,ft,at,lt,ht,pt,_t,yt,dt,gt,wt,vt,mt,bt,kt,St,Bt,Pt,Dt;for(n=this._hash.words,T=u.W,r=n[0],s=n[1],a=n[2],p=n[3],d=n[4],v=n[5],k=n[6],P=n[7],i=r.high,o=r.low,c=s.high,f=s.low,l=a.high,h=a.low,_=p.high,y=p.low,g=d.high,w=d.low,m=v.high,b=v.low,S=k.high,B=k.low,D=P.high,E=P.low,j=i,L=o,H=c,X=f,W=l,G=h,V=_,J=y,$=g,Q=w,Z=m,tt=b,lt=S,ht=B,pt=D,_t=E,yt=Dt=0;Dt<80;yt=++Dt)U=T[yt],yt<16?(N=U.high=0|t[e+2*yt],K=U.low=0|t[e+2*yt+1]):(rt=T[yt-15],it=rt.high,ot=rt.low,et=(it>>>1|ot<<31)^(it>>>8|ot<<24)^it>>>7,nt=(ot>>>1|it<<31)^(ot>>>8|it<<24)^(ot>>>7|it<<25),ct=T[yt-2],ft=ct.high,at=ct.low,st=(ft>>>19|at<<13)^(ft<<3|at>>>29)^ft>>>6,ut=(at>>>19|ft<<13)^(at<<3|ft>>>29)^(at>>>6|ft<<26),I=T[yt-7],C=I.high,
F=I.low,R=T[yt-16],M=R.high,O=R.low,K=nt+F,N=et+C+(K>>>0<nt>>>0?1:0),K+=ut,N=N+st+(K>>>0<ut>>>0?1:0),K+=O,N=N+M+(K>>>0<O>>>0?1:0),U.high=N,U.low=K),Y=$&Z^~$&lt,q=Q&tt^~Q&ht,dt=j&H^j&W^H&W,gt=L&X^L&G^X&G,wt=(j>>>28|L<<4)^(j<<30|L>>>2)^(j<<25|L>>>7),vt=(L>>>28|j<<4)^(L<<30|j>>>2)^(L<<25|j>>>7),mt=($>>>14|Q<<18)^($>>>18|Q<<14)^($<<23|Q>>>9),bt=(Q>>>14|$<<18)^(Q>>>18|$<<14)^(Q<<23|$>>>9),A=u.K[yt],x=A.high,z=A.low,St=_t+bt,kt=pt+mt+(St>>>0<_t>>>0?1:0),St+=q,kt=kt+Y+(St>>>0<q>>>0?1:0),St+=z,kt=kt+x+(St>>>0<z>>>0?1:0),St+=K,kt=kt+N+(St>>>0<K>>>0?1:0),Pt=vt+gt,Bt=wt+dt+(Pt>>>0<vt>>>0?1:0),pt=lt,_t=ht,lt=Z,ht=tt,Z=$,tt=Q,Q=J+St|0,$=V+kt+(Q>>>0<J>>>0?1:0)|0,V=W,J=G,W=H,G=X,H=j,X=L,L=St+Pt|0,j=kt+Bt+(L>>>0<St>>>0?1:0)|0;return o=r.low=o+L,r.high=i+j+(o>>>0<L>>>0?1:0),f=s.low=f+X,s.high=c+H+(f>>>0<X>>>0?1:0),h=a.low=h+G,a.high=l+W+(h>>>0<G>>>0?1:0),y=p.low=y+J,p.high=_+V+(y>>>0<J>>>0?1:0),w=d.low=w+Q,d.high=g+$+(w>>>0<Q>>>0?1:0),b=v.low=b+tt,v.high=m+Z+(b>>>0<tt>>>0?1:0),B=k.low=B+ht,k.high=S+lt+(B>>>0<ht>>>0?1:0),E=P.low=E+_t,P.high=D+pt+(E>>>0<_t>>>0?1:0)},e.prototype._doFinalize=function(){var t,e,n;return t=this._data.words,n=8*this._nDataBytes,e=8*this._data.sigBytes,t[e>>>5]|=128<<24-e%32,t[30+(e+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(e+128>>>10<<5)]=n,this._data.sigBytes=4*t.length,this._process(),this._hash.toX32()},e.prototype.copy_to=function(t){return e.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(r),n.transform=function(t){var e;return e=(new i).finalize(t),t.scrub(),e}}).call(this)},{"./algbase":24,"./wordarray":46}],44:[function(t,e,n){(function(){var e,r,i,o,s={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};e=t("./algbase").BlockCipher,o=t("./util").scrub_vec,i=function(){function t(){this.P=[[169,103,179,232,4,253,163,118,154,146,128,120,228,221,209,56,13,198,53,152,24,247,236,108,67,117,55,38,250,19,148,72,242,208,139,48,132,84,223,35,25,91,61,89,243,174,162,130,99,1,131,46,217,81,155,124,166,235,165,190,22,12,227,97,192,140,58,245,115,44,37,11,187,78,137,107,83,106,180,241,225,230,189,69,226,244,182,102,204,149,3,86,212,28,30,215,251,195,142,181,233,207,191,186,234,119,57,175,51,201,98,113,129,121,9,173,36,205,249,216,229,197,185,77,68,8,134,231,161,29,170,237,6,112,178,210,65,123,160,17,49,194,39,144,32,246,96,255,150,92,177,171,158,156,82,27,95,147,10,239,145,133,73,238,45,79,143,59,71,135,109,70,214,62,105,100,42,206,203,47,252,151,5,122,172,127,213,26,75,14,167,90,40,20,63,41,136,60,76,2,184,218,176,23,85,31,138,125,87,199,141,116,183,196,159,114,126,21,34,18,88,7,153,52,110,80,222,104,101,188,219,248,200,168,43,64,220,254,50,164,202,16,33,240,211,93,15,0,111,157,54,66,74,94,193,224],[117,243,198,244,219,123,251,200,74,211,230,107,69,125,232,75,214,50,216,253,55,113,241,225,48,15,248,27,135,250,6,63,94,186,174,91,138,0,188,157,109,193,177,14,128,93,210,213,160,132,7,20,181,144,44,163,178,115,76,84,146,116,54,81,56,176,189,90,252,96,98,150,108,66,247,16,124,40,39,140,19,149,156,199,36,70,59,112,202,227,133,203,17,208,147,184,166,131,32,255,159,119,195,204,3,111,8,191,64,231,43,226,121,12,170,130,65,58,234,185,228,154,164,151,126,218,122,23,102,148,161,29,61,240,222,179,11,114,167,28,239,209,83,62,143,51,38,95,236,118,42,73,129,136,238,33,196,26,235,217,197,57,153,205,173,49,139,1,24,35,221,31,78,45,249,72,79,242,101,142,120,92,88,25,141,229,152,87,103,127,5,100,175,99,182,254,245,183,60,165,206,233,104,68,224,77,67,105,41,46,172,21,89,168,10,158,110,71,223,52,53,106,207,220,34,201,192,155,137,212,237,171,18,162,13,82,187,2,47,169,215,97,30,180,80,4,246,194,22,37,134,86,85,9,190,145]],this.P_00=1,this.P_01=0,this.P_02=0,this.P_03=1,this.P_04=1,this.P_10=0,this.P_11=0,this.P_12=1,this.P_13=1,this.P_14=0,this.P_20=1,this.P_21=1,this.P_22=0,this.P_23=0,this.P_24=0,this.P_30=0,this.P_31=1,this.P_32=1,this.P_33=0,this.P_34=1,this.GF256_FDBK=361,this.GF256_FDBK_2=this.GF256_FDBK/2,this.GF256_FDBK_4=this.GF256_FDBK/4,this.RS_GF_FDBK=333,this.SK_STEP=33686018,this.SK_BUMP=16843009,this.SK_ROTL=9}return t}(),r=new i,n.TwoFish=function(t){function e(t){this._key=t.clone(),this.gMDS0=[],this.gMDS1=[],this.gMDS2=[],this.gMDS3=[],this.gSubKeys=[],this.gSBox=[],this.k64Cnt=0,this._doReset()}return u(e,t),e.blockSize=16,e.prototype.blockSize=e.blockSize,e.keySize=32,e.prototype.keySize=e.keySize,e.ivSize=e.blockSize,e.prototype.ivSize=e.ivSize,e.prototype.getByte=function(t,e){return t>>>8*e&255},e.prototype.switchEndianness=function(t){return(255&t)<<24|(t>>8&255)<<16|(t>>16&255)<<8|t>>24&255},e.prototype.LFSR1=function(t){return t>>1^(0!=(1&t)?r.GF256_FDBK_2:0)},e.prototype.LFSR2=function(t){return t>>2^(0!=(2&t)?r.GF256_FDBK_2:0)^(0!=(1&t)?r.GF256_FDBK_4:0)},e.prototype.Mx_X=function(t){return t^this.LFSR2(t)},e.prototype.Mx_Y=function(t){return t^this.LFSR1(t)^this.LFSR2(t)},e.prototype.RS_rem=function(t){var e,n,i;return e=t>>>24&255,n=255&(e<<1^(0!=(128&e)?r.RS_GF_FDBK:0)),i=e>>>1^(0!=(1&e)?r.RS_GF_FDBK>>>1:0)^n,t<<8^i<<24^n<<16^i<<8^e},e.prototype.RS_MDS_Encode=function(t,e){var n,r,i;for(n=e,r=0;r<4;++r)n=this.RS_rem(n);for(n^=t,i=0;i<4;++i)n=this.RS_rem(n);return n},e.prototype.F32=function(t,e){var n,i,o,s,u,c,f,a,l;return n=this.getByte(t,0),i=this.getByte(t,1),o=this.getByte(t,2),s=this.getByte(t,3),u=e[0],c=e[1],f=e[2],a=e[3],l=3&this.k64Cnt,1===l?this.gMDS0[255&r.P[r.P_01][n]^this.getByte(u,0)]^this.gMDS1[255&r.P[r.P_11][i]^this.getByte(u,1)]^this.gMDS2[255&r.P[r.P_21][o]^this.getByte(u,2)]^this.gMDS3[255&r.P[r.P_31][s]^this.getByte(u,3)]:(0===l&&(n=255&r.P[r.P_04][n]^this.getByte(a,0),i=255&r.P[r.P_14][i]^this.getByte(a,1),o=255&r.P[r.P_24][o]^this.getByte(a,2),s=255&r.P[r.P_34][s]^this.getByte(a,3)),(0===l||3===l)&&(n=255&r.P[r.P_03][n]^this.getByte(f,0),i=255&r.P[r.P_13][i]^this.getByte(f,1),o=255&r.P[r.P_23][o]^this.getByte(f,2),s=255&r.P[r.P_33][s]^this.getByte(f,3)),this.gMDS0[255&r.P[r.P_01][255&r.P[r.P_02][n]^this.getByte(c,0)]^this.getByte(u,0)]^this.gMDS1[255&r.P[r.P_11][255&r.P[r.P_12][i]^this.getByte(c,1)]^this.getByte(u,1)]^this.gMDS2[255&r.P[r.P_21][255&r.P[r.P_22][o]^this.getByte(c,2)]^this.getByte(u,2)]^this.gMDS3[255&r.P[r.P_31][255&r.P[r.P_32][s]^this.getByte(c,3)]^this.getByte(u,3)])},e.prototype.Fe32_0=function(t){return this.gSBox[0+2*(255&t)]^this.gSBox[1+2*(t>>>8&255)]^this.gSBox[512+2*(t>>>16&255)]^this.gSBox[513+2*(t>>>24&255)]},e.prototype.Fe32_3=function(t){return this.gSBox[0+2*(t>>>24&255)]^this.gSBox[1+2*(255&t)]^this.gSBox[512+2*(t>>>8&255)]^this.gSBox[513+2*(t>>>16&255)]},e.prototype._doReset=function(){var t,e,n,i,o,s,u,c,f,a,l,h,p,_,y,d,g,w,v,m,b,k,S,B,P,D,E,A;if(p=[],_=[],b=[],d=[],g=[],w=[],this.k64Cnt=this._key.words.length/2,this.k64Cnt<1)throw"Key size less than 64 bits";if(this.k64Cnt>4)throw"Key size larger than 256 bits";for(u=k=0;k<256;u=++k)c=255&r.P[0][u],d[0]=c,g[0]=255&this.Mx_X(c),w[0]=255&this.Mx_Y(c),c=255&r.P[1][u],d[1]=c,g[1]=255&this.Mx_X(c),w[1]=255&this.Mx_Y(c),this.gMDS0[u]=d[r.P_00]|g[r.P_00]<<8|w[r.P_00]<<16|w[r.P_00]<<24,this.gMDS1[u]=w[r.P_10]|w[r.P_10]<<8|g[r.P_10]<<16|d[r.P_10]<<24,this.gMDS2[u]=g[r.P_20]|w[r.P_20]<<8|d[r.P_20]<<16|w[r.P_20]<<24,this.gMDS3[u]=g[r.P_30]|d[r.P_30]<<8|w[r.P_30]<<16|g[r.P_30]<<24;for(u=S=0,D=this.k64Cnt;0<=D?S<D:S>D;u=0<=D?++S:--S)v=2*u,p[u]=this.switchEndianness(this._key.words[v]),_[u]=this.switchEndianness(this._key.words[v+1]),b[this.k64Cnt-1-u]=this.RS_MDS_Encode(p[u],_[u]);for(u=B=0,E=20;0<=E?B<E:B>E;u=0<=E?++B:--B)m=u*r.SK_STEP,t=this.F32(m,p),e=this.F32(m+r.SK_BUMP,_),e=e<<8|e>>>24,t+=e,this.gSubKeys[2*u]=t,t+=e,this.gSubKeys[2*u+1]=t<<r.SK_ROTL|t>>>32-r.SK_ROTL;for(f=b[0],a=b[1],l=b[2],h=b[3],this.gSBox=[],A=[],u=P=0;P<256;u=++P)n=i=o=s=u,y=3&this.k64Cnt,1===y?(this.gSBox[2*u]=this.gMDS0[255&r.P[r.P_01][n]^this.getByte(f,0)],this.gSBox[2*u+1]=this.gMDS1[255&r.P[r.P_11][i]^this.getByte(f,1)],this.gSBox[2*u+512]=this.gMDS2[255&r.P[r.P_21][o]^this.getByte(f,2)],A.push(this.gSBox[2*u+513]=this.gMDS3[255&r.P[r.P_31][s]^this.getByte(f,3)])):(0===y&&(n=255&r.P[r.P_04][n]^this.getByte(h,0),i=255&r.P[r.P_14][i]^this.getByte(h,1),o=255&r.P[r.P_24][o]^this.getByte(h,2),s=255&r.P[r.P_34][s]^this.getByte(h,3)),0!==y&&3!==y||(n=255&r.P[r.P_03][n]^this.getByte(l,0),i=255&r.P[r.P_13][i]^this.getByte(l,1),o=255&r.P[r.P_23][o]^this.getByte(l,2),s=255&r.P[r.P_33][s]^this.getByte(l,3)),this.gSBox[2*u]=this.gMDS0[255&r.P[r.P_01][255&r.P[r.P_02][n]^this.getByte(a,0)]^this.getByte(f,0)],this.gSBox[2*u+1]=this.gMDS1[255&r.P[r.P_11][255&r.P[r.P_12][i]^this.getByte(a,1)]^this.getByte(f,1)],this.gSBox[2*u+512]=this.gMDS2[255&r.P[r.P_21][255&r.P[r.P_22][o]^this.getByte(a,2)]^this.getByte(f,2)],A.push(this.gSBox[2*u+513]=this.gMDS3[255&r.P[r.P_31][255&r.P[r.P_32][s]^this.getByte(a,3)]^this.getByte(f,3)]));return A},e.prototype.scrub=function(){return o(this.gSubKeys),o(this.gSBox),this._key.scrub()},e.prototype.decryptBlock=function(t,e){var n,r,i,o,s,u,c,f;for(null==e&&(e=0),u=this.switchEndianness(t[e])^this.gSubKeys[4],c=this.switchEndianness(t[e+1])^this.gSubKeys[5],o=this.switchEndianness(t[e+2])^this.gSubKeys[6],s=this.switchEndianness(t[e+3])^this.gSubKeys[7],n=39,f=0;f<16;f+=2)r=this.Fe32_0(u),i=this.Fe32_3(c),s^=r+2*i+this.gSubKeys[n--],o=(o<<1|o>>>31)^r+i+this.gSubKeys[n--],s=s>>>1|s<<31,r=this.Fe32_0(o),i=this.Fe32_3(s),c^=r+2*i+this.gSubKeys[n--],u=(u<<1|u>>>31)^r+i+this.gSubKeys[n--],c=c>>>1|c<<31;return t[e]=this.switchEndianness(o^this.gSubKeys[0]),t[e+1]=this.switchEndianness(s^this.gSubKeys[1]),t[e+2]=this.switchEndianness(u^this.gSubKeys[2]),t[e+3]=this.switchEndianness(c^this.gSubKeys[3])},e.prototype.encryptBlock=function(t,e){var n,r,i,o,s,u,c,f;for(null==e&&(e=0),o=this.switchEndianness(t[e])^this.gSubKeys[0],s=this.switchEndianness(t[e+1])^this.gSubKeys[1],u=this.switchEndianness(t[e+2])^this.gSubKeys[2],c=this.switchEndianness(t[e+3])^this.gSubKeys[3],n=8,f=0;f<16;f+=2)r=this.Fe32_0(o),i=this.Fe32_3(s),u^=r+i+this.gSubKeys[n++],u=u>>>1|u<<31,c=(c<<1|c>>>31)^r+2*i+this.gSubKeys[n++],r=this.Fe32_0(u),i=this.Fe32_3(c),o^=r+i+this.gSubKeys[n++],o=o>>>1|o<<31,s=(s<<1|s>>>31)^r+2*i+this.gSubKeys[n++];return t[e]=this.switchEndianness(u^this.gSubKeys[4]),t[e+1]=this.switchEndianness(c^this.gSubKeys[5]),t[e+2]=this.switchEndianness(o^this.gSubKeys[6]),t[e+3]=this.switchEndianness(s^this.gSubKeys[7])},e}(e)}).call(this)},{"./algbase":24,"./util":45}],45:[function(t,e,n){(function(e){(function(){var r,i,o;i=t("iced-runtime"),o=Math.pow(2,32),n.fixup_uint32=function(t){var e;return t>o||t<0?(e=Math.abs(t)%o,t<0?o-e:e):t},n.scrub_buffer=function(t){var e,n;for(n=t.length>>2,e=0;e<n;)t.writeUInt32LE(0,e),e+=4;for(;e<t.length;)t.writeUInt8(0,e),e++;return!1},n.copy_buffer=function(t){var n,r,i,o;for(r=new e(t.length),n=i=0,o=t.length;0<=o?i<o:i>o;n=0<=o?++i:--i)r.writeUInt8(t.readUInt8(n),n);return r},n.scrub_vec=function(t){var e,n,r;for(e=n=0,r=t.length;0<=r?n<r:n>r;e=0<=r?++n:--n)t[e]=0;return!1},n.default_delay=r=function(t,e,n){var r,o;r=i.findDeferral(arguments),function(t){return function(t){"undefined"!=typeof setImmediate&&null!==setImmediate?function(t){o=new i.Deferrals(t,{parent:r,filename:"/Users/max/src/keybase/triplesec/src/util.iced"}),setImmediate(o.defer({lineno:45})),o._fulfill()}(t):function(t){o=new i.Deferrals(t,{parent:r,filename:"/Users/max/src/keybase/triplesec/src/util.iced"}),setTimeout(o.defer({lineno:47}),1),o._fulfill()}(t)}}()(function(t){return function(){return n()}}())},n.buffer_cmp_ule=function(t,e){var n,r,i,o,s,u;for(i=o=0,n=t.length,r=e.length;i<n&&0===t.readUInt8(i);)i++;for(;o<r&&0===e.readUInt8(o);)o++;if(n-i>r-o)return 1;if(r-o>n-i)return-1;for(;i<n;){if((s=t.readUInt8(i))<(u=e.readUInt8(o)))return-1;if(u<s)return 1;i++,o++}return 0},n.bulk=function(t,e,n){var o,s,u,c,f,a,l,h,p,_,y,d,g,w,v,m;v=i.findDeferral(arguments),g=e.update,f=e.finalize,u=e.default_n,c=n.delay,h=n.n,s=n.cb,w=n.what,_=n.progress_hook,a=0,l=0,d=Math.ceil(t/4),c||(c=r),h||(h=u),o=function(t){return"function"==typeof _?_({what:w,i:t,total:d}):void 0},o(0),function(t){return function(t){var e;(e=function(t){var n,r,s;if(n=t,r=function(){return i.trampoline(function(){return e(t)})},s=r,!((l=d-a)>0))return n();p=Math.min(h,l),g(a,a+p),o(a),function(t){m=new i.Deferrals(t,{parent:v,filename:"/Users/max/src/keybase/triplesec/src/util.iced",funcname:"bulk"}),c(a,d,m.defer({lineno:105})),m._fulfill()}(function(){return s(a+=p)})})(t)}}()(function(t){return function(){return o(d),y=f(),s(y)}}())}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:2,"iced-runtime":7}],46:[function(t,e,n){(function(e){(function(){var r,i,o,s,u;u=t("./util"),i=function(t){var e,n,r,i;for(n=new Uint8Array(t.length),e=r=0,i=t.length;0<=i?r<i:r>i;e=0<=i?++r:--r)n[e]=t.readUInt8(e);return n},s=function(t){var n,r,i,o;for(r=new e(t.length),n=i=0,o=t.length;0<=o?i<o:i>o;n=0<=o?++i:--i)r.writeUInt8(t[n],n);return r},o=function(t){return t>>>24&255|(t>>>16&255)<<8|(t>>>8&255)<<16|(255&t)<<24},n.WordArray=r=function(){function t(t,e){this.words=t||[],this.sigBytes=null!=e?e:4*this.words.length}return t.prototype.concat=function(t){var e,n,r,i,o;if(i=t.words,r=t.sigBytes,this.clamp(),this.sigBytes%4)for(e=o=0;0<=r?o<r:o>r;e=0<=r?++o:--o)n=i[e>>>2]>>>24-e%4*8&255,this.words[this.sigBytes+e>>>2]|=n<<24-(this.sigBytes+e)%4*8;else this.words=this.words.concat(i);return this.sigBytes+=r,this},t.prototype.clamp=function(){return this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this},t.prototype.clone=function(){return new t(this.words.slice(0),this.sigBytes)},t.prototype.to_buffer=function(){var t,n,r,i,o,s,c;for(n=new e(this.sigBytes),r=0,c=this.words,o=0,s=c.length;o<s;o++)i=c[o],this.sigBytes-r>=4&&(i=u.fixup_uint32(i),n.writeUInt32BE(i,r),r+=4);for(;r<this.sigBytes;)t=this.words[r>>>2]>>>24-r%4*8&255,n.writeUInt8(t,r),r++;return n},t.prototype.endian_reverse=function(){var t,e,n,r,i;for(i=this.words,t=n=0,r=i.length;n<r;t=++n)e=i[t],this.words[t]=o(e);return this},t.prototype.split=function(e){var n,r;if(this.sigBytes%4!=0||this.words.length%e!=0)throw new Error("bad key alignment");return r=this.words.length/e,function(){var e,i,o;for(o=[],n=e=0,i=this.words.length;r>0?e<i:e>i;n=e+=r)o.push(new t(this.words.slice(n,n+r)));return o}.call(this)},t.prototype.to_utf8=function(){return this.to_buffer().toString("utf8")},t.prototype.to_hex=function(){return this.to_buffer().toString("hex")},t.prototype.to_ui8a=function(){return i(this.to_buffer())},t.alloc=function(n){return e.isBuffer(n)?t.from_buffer(n):"object"==typeof n&&n instanceof t?n:"string"==typeof n?t.from_hex(n):null},t.from_buffer=function(e){var n,r,i,o;for(o=[],i=0;e.length-i>=4;)o.push(e.readUInt32BE(i)),i+=4;if(i<e.length){for(r=0;i<e.length;)n=e.readUInt8(i),r|=n<<24-i%4*8,i++;r=u.fixup_uint32(r),o.push(r)}return new t(o,e.length)},t.from_buffer_le=function(e){var n,r,i,o;for(o=[],i=0;e.length-i>=4;)o.push(e.readUInt32LE(i)),i+=4;if(i<e.length){for(r=0;i<e.length;)n=e.readUInt8(i),r|=n<<i%4*8,i++;r=u.fixup_uint32(r),o.push(r)}return new t(o,e.length)},t.from_utf8=function(n){return t.from_buffer(new e(n,"utf8"))},t.from_utf8_le=function(n){return t.from_buffer_le(new e(n,"utf8"))},t.from_hex=function(n){return t.from_buffer(new e(n,"hex"))},t.from_hex_le=function(n){return t.from_buffer_le(new e(n,"hex"))},t.from_ui8a=function(e){return t.from_buffer(s(e))},t.from_i32a=function(e){return new t(Array.apply([],e))},t.prototype.equal=function(t){var e,n,r,i,o,s;if(n=!0,t.sigBytes!==this.sigBytes)n=!1;else for(s=this.words,e=i=0,o=s.length;i<o;e=++i)r=s[e],u.fixup_uint32(r)!==u.fixup_uint32(t.words[e])&&(n=!1);return n},t.prototype.xor=function(t,e){var n,r,i,o,s,c;if(n=e.dst_offset,o=e.src_offset,i=e.n_words,n||(n=0),o||(o=0),null==i&&(i=t.words.length-o),this.words.length<n+i)throw new Error("dest range exceeded ("+this.words.length+" < "+(n+i)+")");if(t.words.length<o+i)throw new Error("source range exceeded");for(r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)s=this.words[n+r]^t.words[o+r],this.words[n+r]=u.fixup_uint32(s);return this},t.prototype.truncate=function(e){var n;if(!(e<=this.sigBytes))throw new Error("Cannot truncate: "+e+" > "+this.sigBytes);return n=Math.ceil(e/4),new t(this.words.slice(0,n),e)},t.prototype.unshift=function(e){var n;return this.words.length>=e?(n=this.words.splice(0,e),this.sigBytes-=4*e,new t(n)):null},t.prototype.is_scrubbed=function(){var t,e,n;for(n=this.words,t=0,e=n.length;t<e;t++)if(0!==n[t])return!1;return!0},t.prototype.scrub=function(){return u.scrub_vec(this.words)},t.prototype.cmp_ule=function(t){return u.buffer_cmp_ule(this.to_buffer(),t.to_buffer())},t.prototype.slice=function(e,n){var r,i;if(r=this.words.length,!(e<n&&n<=r))throw new Error("Bad WordArray slice ["+e+","+n+")] when only "+r+" avail");return i=4*(n-e),n===r&&(i-=4*r-this.sigBytes),new t(this.words.slice(e,n),i)},t}(),n.X64Word=function(){function t(t,e){this.high=t,this.low=e}return t.prototype.clone=function(){return new t(this.high,this.low)},t}(),n.X64WordArray=function(){function t(t,e){this.sigBytes=e,this.words=t||[],this.sigBytes||(this.sigBytes=8*this.words.length)}return t.prototype.toX32=function(){var t,e,n,i,o;for(t=[],o=this.words,n=0,i=o.length;n<i;n++)e=o[n],t.push(e.high),t.push(e.low);return new r(t,this.sigBytes)},t.prototype.clone=function(){var e;return new t(function(){var t,n,r,i;for(r=this.words,i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(e.clone());return i}.call(this),this.sigBytes)},t}(),n.buffer_to_ui8a=i,n.ui8a_to_buffer=s,n.endian_reverse=o}).call(this)}).call(this,t("buffer").Buffer)},{"./util":45,buffer:2}],47:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],48:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],49:[function(t,e,n){(function(e,r){function i(t,e){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(e)?r.showHidden=e:e&&n._extend(r,e),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),c(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function s(t,e){return t}function u(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function c(t,e,r){if(t.customInspect&&e&&D(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return v(i)||(i=c(t,i,r)),i}var o=f(t,e);if(o)return o;var s=Object.keys(e),y=u(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),P(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return a(e);if(0===s.length){if(D(e)){var d=e.name?": "+e.name:"";return t.stylize("[Function"+d+"]","special")}if(k(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(B(e))return t.stylize(Date.prototype.toString.call(e),"date");if(P(e))return a(e)}var g="",w=!1,m=["{","}"];if(_(e)&&(w=!0,m=["[","]"]),D(e)){g=" [Function"+(e.name?": "+e.name:"")+"]"}if(k(e)&&(g=" "+RegExp.prototype.toString.call(e)),B(e)&&(g=" "+Date.prototype.toUTCString.call(e)),P(e)&&(g=" "+a(e)),0===s.length&&(!w||0==e.length))return m[0]+g+m[1];if(r<0)return k(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var b;return b=w?l(t,e,r,y,s):s.map(function(n){return h(t,e,r,y,n,w)}),t.seen.pop(),p(b,g,m)}function f(t,e){if(b(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return w(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):d(e)?t.stylize("null","null"):void 0}function a(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,n,r,i){for(var o=[],s=0,u=e.length;s<u;++s)T(e,String(s))?o.push(h(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var s,u,f;if(f=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},f.get?u=f.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):f.set&&(u=t.stylize("[Setter]","special")),T(r,i)||(s="["+i+"]"),u||(t.seen.indexOf(f.value)<0?(u=d(n)?c(t,f.value,null):c(t,f.value,n-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+u}function p(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function _(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function d(t){return null===t}function g(t){return null==t}function w(t){return"number"==typeof t}function v(t){return"string"==typeof t}function m(t){return"symbol"==typeof t}function b(t){return void 0===t}function k(t){return S(t)&&"[object RegExp]"===A(t)}function S(t){return"object"==typeof t&&null!==t}function B(t){return S(t)&&"[object Date]"===A(t)}function P(t){return S(t)&&("[object Error]"===A(t)||t instanceof Error)}function D(t){return"function"==typeof t}function E(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function A(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}function z(){var t=new Date,e=[x(t.getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":");return[t.getDate(),O[t.getMonth()],e].join(" ")}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var U=/%[sdj%]/g;n.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(t).replace(U,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),u=r[n];n<o;u=r[++n])d(u)||!S(u)?s+=" "+u:s+=" "+i(u);return s},n.deprecate=function(t,i){function o(){if(!s){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),s=!0}return t.apply(this,arguments)}if(b(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(!0===e.noDeprecation)return t;var s=!1;return o};var R,M={};n.debuglog=function(t){if(b(R)&&(R=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!M[t])if(new RegExp("\\b"+t+"\\b","i").test(R)){var r=e.pid;M[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else M[t]=function(){};return M[t]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=_,n.isBoolean=y,n.isNull=d,n.isNullOrUndefined=g,n.isNumber=w,n.isString=v,n.isSymbol=m,n.isUndefined=b,n.isRegExp=k,n.isObject=S,n.isDate=B,n.isError=P,n.isFunction=D,n.isPrimitive=E,n.isBuffer=t("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",z(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!S(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":48,_process:15,inherits:47}],50:[function(t,e,n){"use strict";function r(t){var e=this,n=function(t){const e=new o.Buffer(t);return o.Encryptor({key:e})}(t),r=function(t){var e=new o.Buffer(t);return o.Decryptor({key:e})}(t);e.transform({incoming:function(t){var e=JSON.parse(t),r={_id:t._id,_rev:t._rev};return void 0!==t._deleted&&(r._deleted=t._deleted),n.run({data:e},function(t,e){r.doc_json="{}",t||(r.doc_json=e.toString("hex"))}),r},outgoing:function(t){var e=t;return r.run({data:t.doc_json},function(t,n){t||(e=n.toString())}),e}})}var i=t("transform-pouch").transform,o=t("triplesec");n.transform=i,n.enableCrypto=r,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(e.exports)},{"transform-pouch":17,triplesec:31}]},{},[50]);
